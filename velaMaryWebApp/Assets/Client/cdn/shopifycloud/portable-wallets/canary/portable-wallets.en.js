var Qr=Object.defineProperty,Cr=Object.defineProperties,en=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,tn=Object.prototype.hasOwnProperty,rn=Object.prototype.propertyIsEnumerable,ze=(t,e,n)=>e in t?Qr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||(e={}))tn.call(e,n)&&ze(t,n,e[n]);if(St)for(var n of St(e))rn.call(e,n)&&ze(t,n,e[n]);return t},Y=(t,e)=>Cr(t,en(e)),w=(t,e,n)=>(ze(t,typeof e!="symbol"?e+"":e,n),n),Je=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},L=(t,e,n)=>(Je(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Tt=(t,e,n,r)=>(Je(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Pe=(t,e,n)=>(Je(t,e,"access private method"),n),rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function an(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var nr={exports:{}},Xe={exports:{}},Ot;function on(){return Ot||(Ot=1,function(t,e){(function(n,r){t.exports=r()})(rr,function(){function n(c){return!isNaN(parseFloat(c))&&isFinite(c)}function r(c){return c.charAt(0).toUpperCase()+c.substring(1)}function o(c){return function(){return this[c]}}var a=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],u=["args"],h=["evalOrigin"],f=a.concat(i,s,u,h);function y(c){if(c)for(var l=0;l<f.length;l++)c[f[l]]!==void 0&&this["set"+r(f[l])](c[f[l]])}y.prototype={getArgs:function(){return this.args},setArgs:function(c){if(Object.prototype.toString.call(c)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=c},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(c){if(c instanceof y)this.evalOrigin=c;else if(c instanceof Object)this.evalOrigin=new y(c);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var c=this.getFileName()||"",l=this.getLineNumber()||"",p=this.getColumnNumber()||"",m=this.getFunctionName()||"";return this.getIsEval()?c?"[eval] ("+c+":"+l+":"+p+")":"[eval]:"+l+":"+p:m?m+" ("+c+":"+l+":"+p+")":c+":"+l+":"+p}},y.fromString=function(c){var l=c.indexOf("("),p=c.lastIndexOf(")"),m=c.substring(0,l),v=c.substring(l+1,p).split(","),M=c.substring(p+1);if(M.indexOf("@")===0)var E=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(M,""),x=E[1],G=E[2],yt=E[3];return new y({functionName:m,args:v||void 0,fileName:x,lineNumber:G||void 0,columnNumber:yt||void 0})};for(var g=0;g<a.length;g++)y.prototype["get"+r(a[g])]=o(a[g]),y.prototype["set"+r(a[g])]=function(c){return function(l){this[c]=!!l}}(a[g]);for(var d=0;d<i.length;d++)y.prototype["get"+r(i[d])]=o(i[d]),y.prototype["set"+r(i[d])]=function(c){return function(l){if(!n(l))throw new TypeError(c+" must be a Number");this[c]=Number(l)}}(i[d]);for(var b=0;b<s.length;b++)y.prototype["get"+r(s[b])]=o(s[b]),y.prototype["set"+r(s[b])]=function(c){return function(l){this[c]=String(l)}}(s[b]);return y})}(Xe)),Xe.exports}(function(t,e){(function(n,r){t.exports=r(on())})(rr,function(n){var r=/(^|@)\S+:\d+/,o=/^\s*at .*(\S+:\d+|\(native\))/m,a=/^(eval@)?(\[native code])?$/;return{parse:function(i){if(typeof i.stacktrace<"u"||typeof i["opera#sourceloc"]<"u")return this.parseOpera(i);if(i.stack&&i.stack.match(o))return this.parseV8OrIE(i);if(i.stack)return this.parseFFOrSafari(i);throw new Error("Cannot parse given Error object")},extractLocation:function(i){if(i.indexOf(":")===-1)return[i];var s=/(.+?)(?::(\d+))?(?::(\d+))?$/,u=s.exec(i.replace(/[()]/g,""));return[u[1],u[2]||void 0,u[3]||void 0]},parseV8OrIE:function(i){var s=i.stack.split("\n").filter(function(u){return!!u.match(o)},this);return s.map(function(u){u.indexOf("(eval ")>-1&&(u=u.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var h=u.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),f=h.match(/ (\(.+\)$)/);h=f?h.replace(f[0],""):h;var y=this.extractLocation(f?f[1]:h),g=f&&h||void 0,d=["eval","<anonymous>"].indexOf(y[0])>-1?void 0:y[0];return new n({functionName:g,fileName:d,lineNumber:y[1],columnNumber:y[2],source:u})},this)},parseFFOrSafari:function(i){var s=i.stack.split("\n").filter(function(u){return!u.match(a)},this);return s.map(function(u){if(u.indexOf(" > eval")>-1&&(u=u.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),u.indexOf("@")===-1&&u.indexOf(":")===-1)return new n({functionName:u});var h=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=u.match(h),y=f&&f[1]?f[1]:void 0,g=this.extractLocation(u.replace(h,""));return new n({functionName:y,fileName:g[0],lineNumber:g[1],columnNumber:g[2],source:u})},this)},parseOpera:function(i){return!i.stacktrace||i.message.indexOf("\n")>-1&&i.message.split("\n").length>i.stacktrace.split("\n").length?this.parseOpera9(i):i.stack?this.parseOpera11(i):this.parseOpera10(i)},parseOpera9:function(i){for(var s=/Line (\d+).*script (?:in )?(\S+)/i,u=i.message.split("\n"),h=[],f=2,y=u.length;f<y;f+=2){var g=s.exec(u[f]);g&&h.push(new n({fileName:g[2],lineNumber:g[1],source:u[f]}))}return h},parseOpera10:function(i){for(var s=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=i.stacktrace.split("\n"),h=[],f=0,y=u.length;f<y;f+=2){var g=s.exec(u[f]);g&&h.push(new n({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:u[f]}))}return h},parseOpera11:function(i){var s=i.stack.split("\n").filter(function(u){return!!u.match(r)&&!u.match(/^Error created at/)},this);return s.map(function(u){var h=u.split("@"),f=this.extractLocation(h.pop()),y=h.shift()||"",g=y.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,d;y.match(/\(([^)]*)\)/)&&(d=y.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var b=d===void 0||d==="[arguments not available]"?void 0:d.split(",");return new n({functionName:g,args:b,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:u})},this)}}})})(nr);var sn=nr.exports;const cn=nn(sn);var At="5",ln=["Load failed","Failed to fetch","when attempting to fetch resource"],un=["Chrome-Lighthouse"],dn="_shopify_y";function fn(t){try{let e=new RegExp("(".concat(t,")=([^;]+)")).exec(document.cookie);return e?e[2]:null}catch(e){return null}}function pn(t,e){return!!(e!=null&&e.includes(t))}function hn(){let t=navigator.userAgent;return un.some(e=>t.includes(e))}function Mt(t,e){try{return cn.parse(e).map(n=>{var r,o,a;return{method:(r=n.functionName)!=null?r:"",file:(o=n.fileName)!=null?o:"",lineNumber:(a=n.lineNumber)!=null?a:0,columnNumber:n.columnNumber,inProject:pn(t,n.fileName)}})}catch(n){return[]}}function mn(t,e,n){return hn()||e==="OTLPExporterError"&&(n==="Request Timeout"||n==="Failed to export with XHR (status: 0)")||ln.some(r=>{var o;return(o=n==null?void 0:n.includes(r))!=null?o:!1})||t.some(r=>{var o;return(o=r.file)==null?void 0:o.includes("spin.dev")})?!1:t.some(r=>!!(r!=null&&r.inProject))}var yn=class{constructor(t){w(this,"apiKey"),w(this,"appId"),w(this,"appVersion"),w(this,"releaseStage"),w(this,"startTime"),w(this,"breadcrumbs",[]),w(this,"userAgent"),w(this,"metadata"),this.apiKey=t.apiKey,this.appId=t.appId,this.appVersion=t.appVersion,this.startTime=new Date,this.releaseStage=t.releaseStage,this.initWindowErrorHandler(),this.leaveBreadcrumb("Bugsnag started","state"),this.userAgent=t.userAgent,this.metadata=t.metadata}leaveBreadcrumb(t,e,n){this.breadcrumbs.push({name:t,metaData:n,type:e,timestamp:new Date().toISOString()})}notify(t,{severity:e="error",type:n="handledException",handled:r=!0,metadata:o={}}={}){var a;let i=e,s=Mt(this.appId,t),u=Y(S(S({},this.metadata),o),{app:Y(S({},o.app),{bundleType:document.currentScript?"iife":"es"})});if(s.length>0&&(a=s[0])!=null&&a.inProject||(i="warning"),this.releaseStage==="development"){this.logToConsole({error:t,type:n,handled:r,severity:i,metadata:u});return}mn(s,t.name,t.message)&&this.sendToBugsnag({error:t,type:n,handled:r,severity:i,metadata:u})}initWindowErrorHandler(){let t=window.onerror;window.onerror=(e,n,r,o,a)=>{a&&this.notify(a,{type:"unhandledException",handled:!1}),typeof t=="function"&&t.apply(this,[e,n,r,o,a])},window.addEventListener("unhandledrejection",({reason:e})=>{e&&this.notify(e,{type:"unhandledPromiseRejection",handled:!1})})}logToConsole({error:t,severity:e,type:n,handled:r,metadata:o}){let a=e==="warning"?"warn":"error";console[a]("[bugsnag-light][".concat(this.appId,"] event logged"),{severity:e,type:n,handled:r,metadata:o,breadcrumbs:this.breadcrumbs}),console[a](t)}sendToBugsnag({error:t,severity:e,type:n,handled:r,metadata:o}){var a,i;let s=new Date,u=s.toISOString(),{breadcrumbs:h,appId:f,apiKey:y,appVersion:g,releaseStage:d,userAgent:b}=this,c=new XMLHttpRequest;c.open("POST","https://notify.bugsnag.com/"),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Bugsnag-Api-Key",y),c.setRequestHeader("Bugsnag-Payload-Version",At),c.setRequestHeader("Bugsnag-Sent-At",u);let l={apiKey:y,notifier:{name:"Bugsnag JavaScript",version:"7.22.2",url:"https://github.com/bugsnag/bugsnag-js"},events:[{payloadVersion:At,exceptions:[{errorClass:t.name,type:"browserjs",stacktrace:Mt(f,t),message:t.message}],severity:e,severityReason:{type:n},unhandled:!r,app:{id:f,version:g,releaseStage:d,type:"browser",duration:this.startTime.getTime()-s.getTime()},device:{locale:navigator.language,time:u,orientation:(i=(a=window.screen)==null?void 0:a.orientation)==null?void 0:i.type,userAgent:b},request:{url:window.location.href},breadcrumbs:h,context:window.location.pathname,metaData:o,user:{id:fn(dn)}}]};c.send(JSON.stringify(l))}},V,gn={start:t=>{if(V){console.warn("Bugsnag.start() has already been called. Ignoring.");return}V=new yn(t)},leaveBreadcrumb:(t,e,n)=>{if(!V){console.warn("Bugsnag.leaveBreadcrumb() called before start().");return}V.leaveBreadcrumb(t,e,n)},notify:(t,{severity:e="error",type:n="handledException",handled:r=!0,metadata:o={}}={})=>{if(!V){console.error("Bugsnag.notify() called before start().",t);return}V.notify(t,{severity:e,type:n,handled:r,metadata:o})}},_=gn;class ge extends HTMLElement{get buyerCountry(){return this.getAttribute("buyer-country")}get accessToken(){return this.getAttribute("access-token")}get disabled(){const e=this.getAttribute("disabled");return e==="true"||e===""}set disabled(e){e?this.setAttribute("disabled","true"):this.removeAttribute("disabled")}}const bn=":host{display:flex;align-items:center;justify-content:center}\n";class vn extends HTMLElement{constructor(){var e,n;super(),w(this,"size"),w(this,"color"),this.size=(e=this.getAttribute("size"))!=null?e:"1.5rem",this.color=(n=this.getAttribute("color"))!=null?n:"gray",this.attachShadow({mode:"open"})}connectedCallback(){this.render();const e=document.createElement("style");e.textContent=bn,this.shadowRoot.appendChild(e)}render(){const e=this.shadowRoot,n='\n      width="'.concat(this.size,'"\n      height="').concat(this.size,'"\n      xmlns="http://www.w3.org/2000/svg"\n      aria-hidden="true"\n    ');switch(this.getAttribute("name")){case"warning":e.innerHTML="\n          <svg ".concat(n,' viewBox="0 0 16 14" fill="').concat(this.color,'">\n            <path d="M5.925 2.344c1.146-1.889 3.002-1.893 4.149 0l4.994 8.235c1.146 1.889.288 3.421-1.916 3.421h-10.305c-2.204 0-3.063-1.529-1.916-3.421l4.994-8.235zm1.075 1.656v5h2v-5h-2zm0 6v2h2v-2h-2z"/>\n          </svg>\n        ');break;case"close":e.innerHTML="\n          <svg ".concat(n,' viewBox="0 0 20 20" fill="').concat(this.color,'">\n            <path d="M17.1 4.3l-1.4-1.4-5.7 5.7-5.7-5.7-1.4 1.4 5.7 5.7-5.7 5.7 1.4 1.4 5.7-5.7 5.7 5.7 1.4-1.4-5.7-5.7z"/>\n          </svg>\n        ');break;default:e.innerHTML="";break}}}const wn="#overlay{position:fixed;width:100%;height:100%;background:rgba(0,0,0,.4);top:0;left:0;z-index:2147483647;animation:modalPop .3s ease-out}#modal{position:fixed;top:1em;left:50%;width:100%;max-width:460px;transform:translate(-50%,-100%);background:#fff;border:1px solid #d0d0d0;border-radius:4px;animation:modalSlideInFromTop .3s forwards}@keyframes modalPop{0%{opacity:0}to{opacity:1}}@keyframes modalSlideInFromTop{0%{transform:translate(-50%,-100%)}to{transform:translate(-50%)}}@keyframes modalSlideInFromBottom{0%{transform:translate(-50%,100%)}to{transform:translate(-50%)}}@media only screen and (max-width: 640px){#modal{top:auto;bottom:0;animation:modalSlideInFromBottom .3s forwards}}#modal header,#modal footer{padding:1em}#modal header{display:flex;margin-bottom:2em;text-align:center;border-bottom:1px solid #d0d0d0}#title{flex-grow:2;display:flex;justify-content:center}#title svg-icon{margin-right:.25em}#content{text-align:left;padding:0 1em}#modal #content p{margin:0}#close-icon,#close-button{cursor:pointer}#close-icon{background:transparent;padding:0;border:none}#close-button{width:100%;padding:1em;color:#fff;background-color:#1773b0;border:none;border-radius:4px}#close-button:hover,#close-button:active{background:#136f99}#close-button:active,#close-button:focus{box-shadow:0 0 0 4px #1990c640}\n";var ar={en:{instruments_copy:{checkout:{buy_now:"Buy it now"}},error_dialogs:{checkout:{title:"Checkout unavailable",generic_error:"Checkout is currently unavailable due to technical problems. Please try again in a few minutes.",button_text:"Close"},wallet:{title:"%{wallet} unavailable",generic_error:"There was an issue with %{wallet}. Try again or use a different payment method."}},more_payment_options:"More payment options",order_summary:{total:"Total",subtotal:"Subtotal",duties:"Duties",taxes:"Taxes",shipping:"Shipping",discount:"Discount"},brand:{apple_pay:"Apple Pay"}}};ar.en;async function Le(){return new tt(ar)}class It extends Error{constructor(e,n){const r="i18n: Missing or invalid translation '".concat(e,"' in '").concat(n,"'");super(r)}}class _n extends Error{constructor(e,n,r){const o="i18n: Missing translation template key '".concat(e,"' for '").concat(n,"' in '").concat(r,"'");super(o)}}class En extends Error{constructor(e,n,r){const o="i18n: Invalid pluralization for '".concat(e,"':'").concat(n,"' in '").concat(r,"'");super(o)}}var ye,D,Ne,or,ke,ir,Re,sr;const mt=class Pt{constructor(e){W(this,Ne),W(this,ke),W(this,Re),W(this,ye,void 0),W(this,D,Pt.getDefaultLanguage()),Tt(this,ye,e)}static getDefaultLanguage(){return"en"}get locale(){return L(this,D)}translate(e,n={}){var r;const o=e.split(".");let a=L(this,ye)[L(this,D)];try{for(const i of o)switch(typeof a){case"object":a=a[i];break;case"string":case"undefined":throw new It(e,L(this,D))}if(Pe(this,Ne,or).call(this,a,n)){if(typeof a=="string")throw new En(e,a,L(this,D));a=a[Pe(this,ke,ir).call(this,a,n.count)]}if(typeof a!="string")throw new It(e,L(this,D));return Pe(this,Re,sr).call(this,a,n)}catch(i){return _.notify(i),(r=n.defaultValue)!=null?r:e}}};ye=new WeakMap,D=new WeakMap,Ne=new WeakSet,or=function(t,e){return typeof t!="string"&&e.count!=="undefined"},ke=new WeakSet,ir=function(t,e){let n=e===1?"one":"other";return e===0&&typeof t!="string"&&t.zero!=="undefined"&&(n="zero"),n},Re=new WeakSet,sr=function(t,e={}){const n=t.match(/%\{.+?\}/g);return n?n.reduce((r,o)=>{const a=o.replace(/%\{(.*)\}/,"$1");return e[a]?r.replace(o,e[a]):(_.notify(new _n(a,t,L(this,D))),r)},t):t};let tt=mt;var q=(t=>(t.CartPage="cart_page",t.CartAjax="cart_ajax",t.ProductPage="product",t.Unknown="unknown",t))(q||{}),j=(t=>(t.Af="AF",t.Ax="AX",t.Al="AL",t.Dz="DZ",t.Ad="AD",t.Ao="AO",t.Ai="AI",t.Ag="AG",t.Ar="AR",t.Am="AM",t.Aw="AW",t.Ac="AC",t.Au="AU",t.At="AT",t.Az="AZ",t.Bs="BS",t.Bh="BH",t.Bd="BD",t.Bb="BB",t.By="BY",t.Be="BE",t.Bz="BZ",t.Bj="BJ",t.Bm="BM",t.Bt="BT",t.Bo="BO",t.Ba="BA",t.Bw="BW",t.Bv="BV",t.Br="BR",t.Io="IO",t.Bn="BN",t.Bg="BG",t.Bf="BF",t.Bi="BI",t.Kh="KH",t.Ca="CA",t.Cv="CV",t.Bq="BQ",t.Ky="KY",t.Cf="CF",t.Td="TD",t.Cl="CL",t.Cn="CN",t.Cx="CX",t.Cc="CC",t.Co="CO",t.Km="KM",t.Cg="CG",t.Cd="CD",t.Ck="CK",t.Cr="CR",t.Hr="HR",t.Cu="CU",t.Cw="CW",t.Cy="CY",t.Cz="CZ",t.Ci="CI",t.Dk="DK",t.Dj="DJ",t.Dm="DM",t.Do="DO",t.Ec="EC",t.Eg="EG",t.Sv="SV",t.Gq="GQ",t.Er="ER",t.Ee="EE",t.Sz="SZ",t.Et="ET",t.Fk="FK",t.Fo="FO",t.Fj="FJ",t.Fi="FI",t.Fr="FR",t.Gf="GF",t.Pf="PF",t.Tf="TF",t.Ga="GA",t.Gm="GM",t.Ge="GE",t.De="DE",t.Gh="GH",t.Gi="GI",t.Gr="GR",t.Gl="GL",t.Gd="GD",t.Gp="GP",t.Gt="GT",t.Gg="GG",t.Gn="GN",t.Gw="GW",t.Gy="GY",t.Ht="HT",t.Hm="HM",t.Va="VA",t.Hn="HN",t.Hk="HK",t.Hu="HU",t.Is="IS",t.In="IN",t.Id="ID",t.Ir="IR",t.Iq="IQ",t.Ie="IE",t.Im="IM",t.Il="IL",t.It="IT",t.Jm="JM",t.Jp="JP",t.Je="JE",t.Jo="JO",t.Kz="KZ",t.Ke="KE",t.Ki="KI",t.Kp="KP",t.Xk="XK",t.Kw="KW",t.Kg="KG",t.La="LA",t.Lv="LV",t.Lb="LB",t.Ls="LS",t.Lr="LR",t.Ly="LY",t.Li="LI",t.Lt="LT",t.Lu="LU",t.Mo="MO",t.Mg="MG",t.Mw="MW",t.My="MY",t.Mv="MV",t.Ml="ML",t.Mt="MT",t.Mq="MQ",t.Mr="MR",t.Mu="MU",t.Yt="YT",t.Mx="MX",t.Md="MD",t.Mc="MC",t.Mn="MN",t.Me="ME",t.Ms="MS",t.Ma="MA",t.Mz="MZ",t.Mm="MM",t.Na="NA",t.Nr="NR",t.Np="NP",t.Nl="NL",t.An="AN",t.Nc="NC",t.Nz="NZ",t.Ni="NI",t.Ne="NE",t.Ng="NG",t.Nu="NU",t.Nf="NF",t.Mk="MK",t.No="NO",t.Om="OM",t.Pk="PK",t.Ps="PS",t.Pa="PA",t.Pg="PG",t.Py="PY",t.Pe="PE",t.Ph="PH",t.Pn="PN",t.Pl="PL",t.Pt="PT",t.Qa="QA",t.Cm="CM",t.Re="RE",t.Ro="RO",t.Ru="RU",t.Rw="RW",t.Bl="BL",t.Sh="SH",t.Kn="KN",t.Lc="LC",t.Mf="MF",t.Pm="PM",t.Ws="WS",t.Sm="SM",t.St="ST",t.Sa="SA",t.Sn="SN",t.Rs="RS",t.Sc="SC",t.Sl="SL",t.Sg="SG",t.Sx="SX",t.Sk="SK",t.Si="SI",t.Sb="SB",t.So="SO",t.Za="ZA",t.Gs="GS",t.Kr="KR",t.Ss="SS",t.Es="ES",t.Lk="LK",t.Vc="VC",t.Sd="SD",t.Sr="SR",t.Sj="SJ",t.Se="SE",t.Ch="CH",t.Sy="SY",t.Tw="TW",t.Tj="TJ",t.Tz="TZ",t.Th="TH",t.Tl="TL",t.Tg="TG",t.Tk="TK",t.To="TO",t.Tt="TT",t.Ta="TA",t.Tn="TN",t.Tr="TR",t.Tm="TM",t.Tc="TC",t.Tv="TV",t.Ug="UG",t.Ua="UA",t.Ae="AE",t.Gb="GB",t.Us="US",t.Um="UM",t.Uy="UY",t.Uz="UZ",t.Vu="VU",t.Ve="VE",t.Vn="VN",t.Vg="VG",t.Wf="WF",t.Eh="EH",t.Ye="YE",t.Zm="ZM",t.Zw="ZW",t.Zz="ZZ",t))(j||{});const he=[];function H(t,e,n){window.customElements!=null&&(window.customElements.get(t)||(window.customElements.define(t,e),n!=null&&n.shouldAddToWindow&&he.push(t)))}function cr(){var t,e;const n=new URLSearchParams(window.location.search);return((e=(t=n.get("shopify-debug"))!=null?t:n.get("shopifydebug"))!=null?e:"")!==""}function Pn(){return new URLSearchParams(window.location.search).get("show")||null}function Sn(){var t;const e=(t=window.Shopify)==null?void 0:t.CartType;let n=q.ProductPage;return window.Shopify?e===q.CartAjax?n=q.CartAjax:e===q.CartPage&&(n=q.CartPage):n=q.Unknown,n}function rt(t){return Number(t).toFixed(2)}class Tn extends HTMLElement{constructor(){super(),w(this,"overflow"),this.attachShadow({mode:"open"}),this.overflow=""}async connectedCallback(){const e=await Le();this.render(e);const n=this.shadowRoot,r=n.getElementById("modal");n.querySelectorAll("button").forEach(a=>a.addEventListener("click",this.closeModal.bind(this))),n.getElementById("overlay").addEventListener("click",a=>this.handleOutsideClick(a,r)),document.addEventListener("keydown",this.handleEscapeKey.bind(this));const o=document.createElement("style");o.textContent=wn,n.appendChild(o),this.overflow=document.body.style.overflow,document.body.style.overflow="hidden",this.trapFocus(r,n),H("svg-icon",vn)}trapFocus(e,n){const r=e.querySelectorAll("a[href], button"),o=Array.from(r),a=o[0],i=o[o.length-1];e.addEventListener("keydown",s=>{s.key==="Tab"&&!s.shiftKey&&n.activeElement===i&&(s.preventDefault(),a.focus()),s.key==="Tab"&&s.shiftKey&&n.activeElement===a&&(s.preventDefault(),i.focus())}),a.focus()}handleOutsideClick(e,n){n.contains(e.target)||this.closeModal()}handleEscapeKey(e){e.key==="Escape"&&this.closeModal()}closeModal(){document.body.style.overflow=this.overflow,this.remove()}render(e){const n=this.getAttribute("title"),r=e.translate("error_dialogs.checkout.button_text");this.shadowRoot.innerHTML='\n      <div id="overlay">\n        <div id="modal">\n          <header>\n            <span id="title">\n              <svg-icon name="warning" color="red"></svg-icon>\n              '.concat(n,'\n            </span>\n            <button type="button" id="close-icon" aria-label=').concat(r,'>\n              <svg-icon name="close" color="gray"></svg-icon>\n            </button>\n          </header>\n          <div id="content">\n            <p><slot></slot></p>\n          </div>\n          <footer>\n            <button type="button" id="close-button">').concat(r,"</button>\n          </footer>\n        </div>\n      </div>\n    ")}}function ct(t){const e=document.createElement("top-level-modal");e.setAttribute("data-testid","top-level-modal"),e.setAttribute("title",t.translate("error_dialogs.checkout.title")),e.textContent=t.translate("error_dialogs.checkout.generic_error"),document.body.appendChild(e)}async function On(t,e){const n=t.translate("brand.".concat(e));if(e===null||n.includes("brand")){ct(t);return}const r=document.createElement("top-level-modal");r.setAttribute("data-testid","top-level-modal"),r.setAttribute("title",t.translate("error_dialogs.wallet.title",{wallet:n})),r.textContent=t.translate("error_dialogs.wallet.generic_error",{wallet:n}),document.body.appendChild(r)}H("top-level-modal",Tn);const lt={BRANDED_BUTTON:"shopify-payment-button__button shopify-payment-button__button--branded",UNBRANDED_BUTTON:"shopify-payment-button__button shopify-payment-button__button--unbranded",MORE_PAYMENT_OPTION_BUTTON:"shopify-payment-button__more-options",HIDDEN:"shopify-payment-button__button--hidden"},lr={apiKey:"cb577dc231be1c7494db8a63441ef66b",appId:"portable-wallets",appVersion:"0.0.0-557f6d9ef016839892b0025e7ef53bd881926556",releaseStage:"canary",userAgent:navigator.userAgent};var me={},Be={},nt=function(t,e){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},nt(t,e)};function ur(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nt(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Me=function(){return Me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Me.apply(this,arguments)};function dr(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function fr(t,e,n,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function pr(t,e){return function(n,r){e(n,r,t)}}function An(t,e,n,r,o,a){function i(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var s=r.kind,u=s==="getter"?"get":s==="setter"?"set":"value",h=!e&&t?r.static?t:t.prototype:null,f=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),y,g=!1,d=n.length-1;d>=0;d--){var b={};for(var c in r)b[c]=c==="access"?{}:r[c];for(var c in r.access)b.access[c]=r.access[c];b.addInitializer=function(p){if(g)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(p||null))};var l=(0,n[d])(s==="accessor"?{get:f.get,set:f.set}:f[u],b);if(s==="accessor"){if(l===void 0)continue;if(l===null||typeof l!="object")throw new TypeError("Object expected");(y=i(l.get))&&(f.get=y),(y=i(l.set))&&(f.set=y),(y=i(l.init))&&o.unshift(y)}else(y=i(l))&&(s==="field"?o.unshift(y):f[u]=y)}h&&Object.defineProperty(h,r.name,f),g=!0}function Mn(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function In(t){return typeof t=="symbol"?t:"".concat(t)}function Nn(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function hr(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mr(t,e,n,r){function o(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function s(f){try{h(r.next(f))}catch(y){i(y)}}function u(f){try{h(r.throw(f))}catch(y){i(y)}}function h(f){f.done?a(f.value):o(f.value).then(s,u)}h((r=r.apply(t,e||[])).next())})}function yr(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,i;return i={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function s(h){return function(f){return u([h,f])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,h[0]&&(n=0)),n;)try{if(r=1,o&&(a=h[0]&2?o.return:h[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,h[1])).done)return a;switch(o=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],o=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Ue=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function gr(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Ue(e,t,n)}function Ie(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}function br(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ut(arguments[e]));return t}function vr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var a=arguments[e],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function wr(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function J(t){return this instanceof J?(this.v=t,this):new J(t)}function _r(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,a=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(g){r[g]&&(o[g]=function(d){return new Promise(function(b,c){a.push([g,d,b,c])>1||s(g,d)})})}function s(g,d){try{u(r[g](d))}catch(b){y(a[0][3],b)}}function u(g){g.value instanceof J?Promise.resolve(g.value.v).then(h,f):y(a[0][2],g)}function h(g){s("next",g)}function f(g){s("throw",g)}function y(g,d){g(d),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Er(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,a){e[o]=t[o]?function(i){return(n=!n)?{value:J(t[o](i)),done:!1}:a?a(i):i}:a}}function Pr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ie=="function"?Ie(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(i){return new Promise(function(s,u){i=t[a](i),o(s,u,i.done,i.value)})}}function o(a,i,s,u){Promise.resolve(u).then(function(h){a({value:h,done:s})},i)}}function Sr(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var kn=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Tr(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Ue(e,t,n);return kn(e,t),e}function Or(t){return t&&t.__esModule?t:{default:t}}function Ar(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Mr(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Ir(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Nr(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose]}if(typeof r!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Rn=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function kr(t){function e(r){t.error=t.hasError?new Rn(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}function n(){for(;t.stack.length;){var r=t.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,function(a){return e(a),n()})}catch(a){e(a)}}if(t.hasError)throw t.error}return n()}const Dn={__extends:ur,__assign:Me,__rest:dr,__decorate:fr,__param:pr,__metadata:hr,__awaiter:mr,__generator:yr,__createBinding:Ue,__exportStar:gr,__values:Ie,__read:ut,__spread:br,__spreadArrays:vr,__spreadArray:wr,__await:J,__asyncGenerator:_r,__asyncDelegator:Er,__asyncValues:Pr,__makeTemplateObject:Sr,__importStar:Tr,__importDefault:Or,__classPrivateFieldGet:Ar,__classPrivateFieldSet:Mr,__classPrivateFieldIn:Ir,__addDisposableResource:Nr,__disposeResources:kr},xn=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Nr,get __assign(){return Me},__asyncDelegator:Er,__asyncGenerator:_r,__asyncValues:Pr,__await:J,__awaiter:mr,__classPrivateFieldGet:Ar,__classPrivateFieldIn:Ir,__classPrivateFieldSet:Mr,__createBinding:Ue,__decorate:fr,__disposeResources:kr,__esDecorate:An,__exportStar:gr,__extends:ur,__generator:yr,__importDefault:Or,__importStar:Tr,__makeTemplateObject:Sr,__metadata:hr,__param:pr,__propKey:In,__read:ut,__rest:dr,__runInitializers:Mn,__setFunctionName:Nn,__spread:br,__spreadArray:wr,__spreadArrays:vr,__values:Ie,default:Dn},Symbol.toStringTag,{value:"Module"})),be=an(xn);var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.extractDomain=O.PRODUCTION_CANADA_ENDPOINT=O.PRODUCE_ENDPOINT=O.PRODUCE_BATCH_ENDPOINT=O.PRODUCTION_DOMAIN=O.DEVELOPMENT_DOMAIN=void 0,O.DEVELOPMENT_DOMAIN="http://localhost:8082",O.PRODUCTION_DOMAIN="https://monorail-edge.shopifysvc.com",O.PRODUCE_BATCH_ENDPOINT="/unstable/produce_batch",O.PRODUCE_ENDPOINT="/v1/produce",O.PRODUCTION_CANADA_ENDPOINT="https://monorail-edge-ca.shopifycloud.com/v1/produce";function Ln(t){return"https://".concat(new URL(t).hostname)}O.extractDomain=Ln;var $e={},je={};Object.defineProperty(je,"__esModule",{value:!0}),je.isCompositeMonorailEvent=void 0;function Bn(t){return t.schemaId!==void 0}je.isCompositeMonorailEvent=Bn,Object.defineProperty($e,"__esModule",{value:!0}),$e.ProducerMiddleware=void 0;var Un=je,$n=function(){function t(e){this.producer=e}return t.prototype.do=function(e,n){return(0,Un.isCompositeMonorailEvent)(e)?this.producer.produce(e):this.producer.produceBatch(e)},t}();$e.ProducerMiddleware=$n;var ve={},Ye={},Z={},Se={},Nt;function Rr(){if(Nt)return Se;Nt=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=n;let t;const e=new Uint8Array(16);function n(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(e)}return Se}var K={},Q={},C={},kt;function jn(){if(kt)return C;kt=1,Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return C.default=t,C}var Rt;function qe(){if(Rt)return Q;Rt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var t=e(jn());function e(o){return o&&o.__esModule?o:{default:o}}function n(o){return typeof o=="string"&&t.default.test(o)}var r=n;return Q.default=r,Q}var Dt;function Fe(){if(Dt)return K;Dt=1,Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0,K.unsafeStringify=r;var t=e(qe());function e(i){return i&&i.__esModule?i:{default:i}}const n=[];for(let i=0;i<256;++i)n.push((i+256).toString(16).slice(1));function r(i,s=0){return(n[i[s+0]]+n[i[s+1]]+n[i[s+2]]+n[i[s+3]]+"-"+n[i[s+4]]+n[i[s+5]]+"-"+n[i[s+6]]+n[i[s+7]]+"-"+n[i[s+8]]+n[i[s+9]]+"-"+n[i[s+10]]+n[i[s+11]]+n[i[s+12]]+n[i[s+13]]+n[i[s+14]]+n[i[s+15]]).toLowerCase()}function o(i,s=0){const u=r(i,s);if(!(0,t.default)(u))throw TypeError("Stringified UUID is invalid");return u}var a=o;return K.default=a,K}var xt;function qn(){if(xt)return Z;xt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var t=n(Rr()),e=Fe();function n(h){return h&&h.__esModule?h:{default:h}}let r,o,a=0,i=0;function s(h,f,y){let g=f&&y||0;const d=f||new Array(16);h=h||{};let b=h.node||r,c=h.clockseq!==void 0?h.clockseq:o;if(b==null||c==null){const E=h.random||(h.rng||t.default)();b==null&&(b=r=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),c==null&&(c=o=(E[6]<<8|E[7])&16383)}let l=h.msecs!==void 0?h.msecs:Date.now(),p=h.nsecs!==void 0?h.nsecs:i+1;const m=l-a+(p-i)/1e4;if(m<0&&h.clockseq===void 0&&(c=c+1&16383),(m<0||l>a)&&h.nsecs===void 0&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=l,i=p,o=c,l+=122192928e5;const v=((l&268435455)*1e4+p)%4294967296;d[g++]=v>>>24&255,d[g++]=v>>>16&255,d[g++]=v>>>8&255,d[g++]=v&255;const M=l/4294967296*1e4&268435455;d[g++]=M>>>8&255,d[g++]=M&255,d[g++]=M>>>24&15|16,d[g++]=M>>>16&255,d[g++]=c>>>8|128,d[g++]=c&255;for(let E=0;E<6;++E)d[g+E]=b[E];return f||(0,e.unsafeStringify)(d)}var u=s;return Z.default=u,Z}var ee={},B={},te={},Lt;function Dr(){if(Lt)return te;Lt=1,Object.defineProperty(te,"__esModule",{value:!0}),te.default=void 0;var t=e(qe());function e(o){return o&&o.__esModule?o:{default:o}}function n(o){if(!(0,t.default)(o))throw TypeError("Invalid UUID");let a;const i=new Uint8Array(16);return i[0]=(a=parseInt(o.slice(0,8),16))>>>24,i[1]=a>>>16&255,i[2]=a>>>8&255,i[3]=a&255,i[4]=(a=parseInt(o.slice(9,13),16))>>>8,i[5]=a&255,i[6]=(a=parseInt(o.slice(14,18),16))>>>8,i[7]=a&255,i[8]=(a=parseInt(o.slice(19,23),16))>>>8,i[9]=a&255,i[10]=(a=parseInt(o.slice(24,36),16))/1099511627776&255,i[11]=a/4294967296&255,i[12]=a>>>24&255,i[13]=a>>>16&255,i[14]=a>>>8&255,i[15]=a&255,i}var r=n;return te.default=r,te}var Bt;function xr(){if(Bt)return B;Bt=1,Object.defineProperty(B,"__esModule",{value:!0}),B.URL=B.DNS=void 0,B.default=i;var t=Fe(),e=n(Dr());function n(s){return s&&s.__esModule?s:{default:s}}function r(s){s=unescape(encodeURIComponent(s));const u=[];for(let h=0;h<s.length;++h)u.push(s.charCodeAt(h));return u}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";B.DNS=o;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";B.URL=a;function i(s,u,h){function f(y,g,d,b){var c;if(typeof y=="string"&&(y=r(y)),typeof g=="string"&&(g=(0,e.default)(g)),((c=g)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+y.length);if(l.set(g),l.set(y,g.length),l=h(l),l[6]=l[6]&15|u,l[8]=l[8]&63|128,d){b=b||0;for(let p=0;p<16;++p)d[b+p]=l[p];return d}return(0,t.unsafeStringify)(l)}try{f.name=s}catch(y){}return f.DNS=o,f.URL=a,f}return B}var re={},Ut;function Fn(){if(Ut)return re;Ut=1,Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;function t(d){if(typeof d=="string"){const b=unescape(encodeURIComponent(d));d=new Uint8Array(b.length);for(let c=0;c<b.length;++c)d[c]=b.charCodeAt(c)}return e(r(o(d),d.length*8))}function e(d){const b=[],c=d.length*32,l="0123456789abcdef";for(let p=0;p<c;p+=8){const m=d[p>>5]>>>p%32&255,v=parseInt(l.charAt(m>>>4&15)+l.charAt(m&15),16);b.push(v)}return b}function n(d){return(d+64>>>9<<4)+14+1}function r(d,b){d[b>>5]|=128<<b%32,d[n(b)-1]=b;let c=1732584193,l=-271733879,p=-1732584194,m=271733878;for(let v=0;v<d.length;v+=16){const M=c,E=l,x=p,G=m;c=u(c,l,p,m,d[v],7,-680876936),m=u(m,c,l,p,d[v+1],12,-389564586),p=u(p,m,c,l,d[v+2],17,606105819),l=u(l,p,m,c,d[v+3],22,-1044525330),c=u(c,l,p,m,d[v+4],7,-176418897),m=u(m,c,l,p,d[v+5],12,1200080426),p=u(p,m,c,l,d[v+6],17,-1473231341),l=u(l,p,m,c,d[v+7],22,-45705983),c=u(c,l,p,m,d[v+8],7,1770035416),m=u(m,c,l,p,d[v+9],12,-1958414417),p=u(p,m,c,l,d[v+10],17,-42063),l=u(l,p,m,c,d[v+11],22,-1990404162),c=u(c,l,p,m,d[v+12],7,1804603682),m=u(m,c,l,p,d[v+13],12,-40341101),p=u(p,m,c,l,d[v+14],17,-1502002290),l=u(l,p,m,c,d[v+15],22,1236535329),c=h(c,l,p,m,d[v+1],5,-165796510),m=h(m,c,l,p,d[v+6],9,-1069501632),p=h(p,m,c,l,d[v+11],14,643717713),l=h(l,p,m,c,d[v],20,-373897302),c=h(c,l,p,m,d[v+5],5,-701558691),m=h(m,c,l,p,d[v+10],9,38016083),p=h(p,m,c,l,d[v+15],14,-660478335),l=h(l,p,m,c,d[v+4],20,-405537848),c=h(c,l,p,m,d[v+9],5,568446438),m=h(m,c,l,p,d[v+14],9,-1019803690),p=h(p,m,c,l,d[v+3],14,-187363961),l=h(l,p,m,c,d[v+8],20,1163531501),c=h(c,l,p,m,d[v+13],5,-1444681467),m=h(m,c,l,p,d[v+2],9,-51403784),p=h(p,m,c,l,d[v+7],14,1735328473),l=h(l,p,m,c,d[v+12],20,-1926607734),c=f(c,l,p,m,d[v+5],4,-378558),m=f(m,c,l,p,d[v+8],11,-2022574463),p=f(p,m,c,l,d[v+11],16,1839030562),l=f(l,p,m,c,d[v+14],23,-35309556),c=f(c,l,p,m,d[v+1],4,-1530992060),m=f(m,c,l,p,d[v+4],11,1272893353),p=f(p,m,c,l,d[v+7],16,-155497632),l=f(l,p,m,c,d[v+10],23,-1094730640),c=f(c,l,p,m,d[v+13],4,681279174),m=f(m,c,l,p,d[v],11,-358537222),p=f(p,m,c,l,d[v+3],16,-722521979),l=f(l,p,m,c,d[v+6],23,76029189),c=f(c,l,p,m,d[v+9],4,-640364487),m=f(m,c,l,p,d[v+12],11,-421815835),p=f(p,m,c,l,d[v+15],16,530742520),l=f(l,p,m,c,d[v+2],23,-995338651),c=y(c,l,p,m,d[v],6,-198630844),m=y(m,c,l,p,d[v+7],10,1126891415),p=y(p,m,c,l,d[v+14],15,-1416354905),l=y(l,p,m,c,d[v+5],21,-57434055),c=y(c,l,p,m,d[v+12],6,1700485571),m=y(m,c,l,p,d[v+3],10,-1894986606),p=y(p,m,c,l,d[v+10],15,-1051523),l=y(l,p,m,c,d[v+1],21,-2054922799),c=y(c,l,p,m,d[v+8],6,1873313359),m=y(m,c,l,p,d[v+15],10,-30611744),p=y(p,m,c,l,d[v+6],15,-1560198380),l=y(l,p,m,c,d[v+13],21,1309151649),c=y(c,l,p,m,d[v+4],6,-145523070),m=y(m,c,l,p,d[v+11],10,-1120210379),p=y(p,m,c,l,d[v+2],15,718787259),l=y(l,p,m,c,d[v+9],21,-343485551),c=a(c,M),l=a(l,E),p=a(p,x),m=a(m,G)}return[c,l,p,m]}function o(d){if(d.length===0)return[];const b=d.length*8,c=new Uint32Array(n(b));for(let l=0;l<b;l+=8)c[l>>5]|=(d[l/8]&255)<<l%32;return c}function a(d,b){const c=(d&65535)+(b&65535);return(d>>16)+(b>>16)+(c>>16)<<16|c&65535}function i(d,b){return d<<b|d>>>32-b}function s(d,b,c,l,p,m){return a(i(a(a(b,d),a(l,m)),p),c)}function u(d,b,c,l,p,m,v){return s(b&c|~b&l,d,b,p,m,v)}function h(d,b,c,l,p,m,v){return s(b&l|c&~l,d,b,p,m,v)}function f(d,b,c,l,p,m,v){return s(b^c^l,d,b,p,m,v)}function y(d,b,c,l,p,m,v){return s(c^(b|~l),d,b,p,m,v)}var g=t;return re.default=g,re}var $t;function Hn(){if($t)return ee;$t=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.default=void 0;var t=n(xr()),e=n(Fn());function n(o){return o&&o.__esModule?o:{default:o}}var r=(0,t.default)("v3",48,e.default);return ee.default=r,ee}var ne={},ae={},jt;function Gn(){if(jt)return ae;jt=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return ae.default=t,ae}var qt;function Wn(){if(qt)return ne;qt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=void 0;var t=r(Gn()),e=r(Rr()),n=Fe();function r(i){return i&&i.__esModule?i:{default:i}}function o(i,s,u){if(t.default.randomUUID&&!s&&!i)return t.default.randomUUID();i=i||{};const h=i.random||(i.rng||e.default)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,s){u=u||0;for(let f=0;f<16;++f)s[u+f]=h[f];return s}return(0,n.unsafeStringify)(h)}var a=o;return ne.default=a,ne}var oe={},ie={},Ft;function Vn(){if(Ft)return ie;Ft=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.default=void 0;function t(o,a,i,s){switch(o){case 0:return a&i^~a&s;case 1:return a^i^s;case 2:return a&i^a&s^i&s;case 3:return a^i^s}}function e(o,a){return o<<a|o>>>32-a}function n(o){const a=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const f=unescape(encodeURIComponent(o));o=[];for(let y=0;y<f.length;++y)o.push(f.charCodeAt(y))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const s=o.length/4+2,u=Math.ceil(s/16),h=new Array(u);for(let f=0;f<u;++f){const y=new Uint32Array(16);for(let g=0;g<16;++g)y[g]=o[f*64+g*4]<<24|o[f*64+g*4+1]<<16|o[f*64+g*4+2]<<8|o[f*64+g*4+3];h[f]=y}h[u-1][14]=(o.length-1)*8/Math.pow(2,32),h[u-1][14]=Math.floor(h[u-1][14]),h[u-1][15]=(o.length-1)*8&4294967295;for(let f=0;f<u;++f){const y=new Uint32Array(80);for(let p=0;p<16;++p)y[p]=h[f][p];for(let p=16;p<80;++p)y[p]=e(y[p-3]^y[p-8]^y[p-14]^y[p-16],1);let g=i[0],d=i[1],b=i[2],c=i[3],l=i[4];for(let p=0;p<80;++p){const m=Math.floor(p/20),v=e(g,5)+t(m,d,b,c)+l+a[m]+y[p]>>>0;l=c,c=b,b=e(d,30)>>>0,d=g,g=v}i[0]=i[0]+g>>>0,i[1]=i[1]+d>>>0,i[2]=i[2]+b>>>0,i[3]=i[3]+c>>>0,i[4]=i[4]+l>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var r=n;return ie.default=r,ie}var Ht;function Kn(){if(Ht)return oe;Ht=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.default=void 0;var t=n(xr()),e=n(Vn());function n(o){return o&&o.__esModule?o:{default:o}}var r=(0,t.default)("v5",80,e.default);return oe.default=r,oe}var se={},Gt;function zn(){if(Gt)return se;Gt=1,Object.defineProperty(se,"__esModule",{value:!0}),se.default=void 0;var t="00000000-0000-0000-0000-000000000000";return se.default=t,se}var ce={},Wt;function Jn(){if(Wt)return ce;Wt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var t=e(qe());function e(o){return o&&o.__esModule?o:{default:o}}function n(o){if(!(0,t.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}var r=n;return ce.default=r,ce}var Vt;function Xn(){return Vt||(Vt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.default}});var e=f(qn()),n=f(Hn()),r=f(Wn()),o=f(Kn()),a=f(zn()),i=f(Jn()),s=f(qe()),u=f(Fe()),h=f(Dr());function f(y){return y&&y.__esModule?y:{default:y}}}(Ye)),Ye}Object.defineProperty(ve,"__esModule",{value:!0}),ve.v4=void 0;function Yn(){return typeof crypto=="object"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Xn().v4()}ve.v4=Yn;var He={},$={};Object.defineProperty($,"__esModule",{value:!0}),$.toUnderscoreCase=$.convertAllEventsToUnderscoreCase=$.convertStringToUnderscoreCase=void 0;var Kt=be;function at(t,e){return e===void 0&&(e=!0),t&&Object.keys(t).length&&e?Object.keys(t).map(function(n){var r;return r={},r[Lr(n)]=t[n],r}).reduce(function(n,r){return Kt.__assign(Kt.__assign({},n),r)}):t}$.toUnderscoreCase=at;function Lr(t){return t.split(/(?=[A-Z])/).join("_").toLowerCase()}$.convertStringToUnderscoreCase=Lr;function Zn(t){return t.events.map(function(e){var n=!0,r=!0;return e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertEventCase")&&(n=!!e.options.convertEventCase),e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertMetaDataCase")&&(r=!!e.options.convertMetaDataCase),{schema_id:e.schemaId,payload:at(e.payload,n),metadata:at(e.metadata,r)}})}$.convertAllEventsToUnderscoreCase=Zn;var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.MonorailRetriesExceededError=A.MonorailRequestError=A.MonorailBatchProduceError=A.MonorailUnableToProduceError=void 0;var Ge=be,Qn=function(t){Ge.__extends(e,t);function e(n){var r=t.call(this,"Error producing to the Monorail Edge. Response received: ".concat(JSON.stringify(n)))||this;return r.response=n,Object.setPrototypeOf(r,e.prototype),r}return e}(Error);A.MonorailUnableToProduceError=Qn;var Cn=function(t){Ge.__extends(e,t);function e(n){var r=t.call(this,"Error producing to the Monorail Edge. Response received: ".concat(JSON.stringify(n)))||this;return Object.setPrototypeOf(r,e.prototype),r.response=n,r}return e}(Error);A.MonorailBatchProduceError=Cn;var ea=function(t){Ge.__extends(e,t);function e(n){var r=t.call(this,"Error completing request. A network failure may have prevented the request from completing. Error: ".concat(n))||this;return Object.setPrototypeOf(r,e.prototype),r}return e}(Error);A.MonorailRequestError=ea;var ta=function(t){Ge.__extends(e,t);function e(n){var r=t.call(this,"".concat(n))||this;return Object.setPrototypeOf(r,e.prototype),r}return e}(Error);A.MonorailRetriesExceededError=ta,Object.defineProperty(He,"__esModule",{value:!0}),He.HttpProducer=void 0;var Te=be,Oe=O,Ze=$,ra=ve,U=A,na=function(){function t(e,n){e===void 0&&(e=Oe.DEVELOPMENT_DOMAIN),n===void 0&&(n=!1),this.edgeDomain=e,this.keepalive=n}return t.withEndpoint=function(e){return new t(Oe.extractDomain(e))},t.getHeadersFromMetadata=function(e){var n={"Content-Type":"application/json; charset=utf-8","X-Monorail-Edge-Event-Created-At-Ms":(e&&e.eventCreatedAtMs||Date.now()).toString(),"X-Monorail-Edge-Event-Sent-At-Ms":Date.now().toString(),"X-Monorail-Edge-Client-Message-Id":(e&&e.clientMessageId||(0,ra.v4)()).toString()};return e&&e.userAgent&&(n["User-Agent"]=e.userAgent),e&&e.remoteIp&&(n["X-Forwarded-For"]=e.remoteIp),n},t.prototype.produceBatch=function(e){return Te.__awaiter(this,void 0,void 0,function(){var n,r,o,a,i,s;return Te.__generator(this,function(u){switch(u.label){case 0:n={events:(0,Ze.convertAllEventsToUnderscoreCase)(e),metadata:(0,Ze.toUnderscoreCase)(e.metadata)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(this.produceBatchEndpoint(),{method:"post",headers:t.getHeadersFromMetadata(e.metadata),body:JSON.stringify(n),keepalive:this.keepalive})];case 2:return r=u.sent(),[3,4];case 3:throw o=u.sent(),new U.MonorailRequestError(o);case 4:return r.status!==207?[3,6]:[4,r.json()];case 5:throw a=u.sent(),new U.MonorailBatchProduceError(a);case 6:return r.ok?[3,8]:(i=U.MonorailUnableToProduceError.bind,s={status:r.status},[4,r.text()]);case 7:throw new(i.apply(U.MonorailUnableToProduceError,[void 0,(s.message=u.sent(),s)]));case 8:return[2,{status:r.status}]}})})},t.prototype.produce=function(e){return Te.__awaiter(this,void 0,void 0,function(){var n,r,o,a,i,s;return Te.__generator(this,function(u){switch(u.label){case 0:n=!0,e&&e.options&&Object.prototype.hasOwnProperty.call(e.options,"convertEventCase")&&(n=!!e.options.convertEventCase),r={schema_id:e.schemaId,payload:(0,Ze.toUnderscoreCase)(e.payload,n)},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(this.produceEndpoint(),{method:"post",headers:t.getHeadersFromMetadata(e.metadata),body:JSON.stringify(r),keepalive:this.keepalive})];case 2:return o=u.sent(),[3,4];case 3:throw a=u.sent(),new U.MonorailRequestError(a);case 4:if(!o)throw new U.MonorailUnableToProduceError({message:"No response from edge"});return o.ok?[3,6]:(i=U.MonorailUnableToProduceError.bind,s={status:o.status},[4,o.text()]);case 5:throw new(i.apply(U.MonorailUnableToProduceError,[void 0,(s.message=u.sent(),s)]));case 6:return[2,{status:o.status}]}})})},t.prototype.produceBatchEndpoint=function(){return this.edgeDomain+Oe.PRODUCE_BATCH_ENDPOINT},t.prototype.produceEndpoint=function(){return this.edgeDomain+Oe.PRODUCE_ENDPOINT},t}();He.HttpProducer=na;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.LogProducer=void 0;var aa=function(){function t(e){this.sendToConsole=e,e&&t.printWelcomeMessage(e)}return t.printWelcomeMessage=function(e){console.log("%c\u{1F44B} from Monorail%c\n\n"+"We've noticed that you're".concat(e?"":" not"," ")+"running in debug mode. "+"As such, we will ".concat(e?"produce":"not produce"," ")+"Monorail events to the console. "+"\n\nIf you want Monorail events to ".concat(e?"stop":"start"," ")+"appearing here, %cset debugMode=".concat((!e).toString(),"%c, ")+"for the Monorail Log Producer in your code.","font-size: large;","font-size: normal;","font-weight: bold;","font-weight: normal;")},t.prototype.produce=function(e){return this.sendToConsole&&console.log("Monorail event produced",e),new Promise(function(n){n(e)})},t.prototype.produceBatch=function(e){return this.sendToConsole&&console.log("Monorail Batch event produced",e),new Promise(function(n){n(e)})},t}();We.LogProducer=aa,Object.defineProperty(Be,"__esModule",{value:!0}),Be.Monorail=void 0;var oa=be,zt=O,ia=$e,sa=ve,Qe=He,ca=We,la=function(){function t(e,n){this.producer=e,this.middleware=n,this.executeChain=t.buildMiddlewareChain(this.middleware.concat(new ia.ProducerMiddleware(e)))}return t.createLogProducer=function(e){return new t(new ca.LogProducer(e.debugMode),e.middleware||[])},t.createHttpProducerWithEndpoint=function(e,n){return n===void 0&&(n=[]),new t(Qe.HttpProducer.withEndpoint(e),n)},t.createHttpProducer=function(e){var n=e.options&&e.options.keepalive;return new t(e.production?new Qe.HttpProducer(zt.PRODUCTION_DOMAIN,n):new Qe.HttpProducer(zt.DEVELOPMENT_DOMAIN,n),e.middleware||[])},t.buildMiddlewareChain=function(e,n){var r=this;return n===void 0&&(n=0),n===e.length?this.identityFn:function(o){return e[n].do(o,r.buildMiddlewareChain(e,n+1))}},t.prototype.produce=function(e){return e.metadata=oa.__assign({eventCreatedAtMs:Date.now(),clientMessageId:(0,sa.v4)()},e.metadata),this.executeChain(e)},t.prototype.produceBatch=function(e){return this.executeChain(e)},t}();Be.Monorail=la;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.RetryMiddleware=void 0;var Jt=be,Xt=A,ua=function(){function t(e,n){e===void 0&&(e=3),n===void 0&&(n=150),this.maxRetries=e,this.delayMs=n}return t.prototype.do=function(e,n){return Jt.__awaiter(this,void 0,void 0,function(){var r,o,a,i,s;return Jt.__generator(this,function(u){switch(u.label){case 0:r=0,u.label=1;case 1:if(!(r<this.maxRetries))return[3,7];a=void 0,u.label=2;case 2:return u.trys.push([2,4,,6]),[4,n(e)];case 3:return a=u.sent(),[3,6];case 4:if(i=u.sent(),o=o||new Error,o=new Error("".concat(o.message," Retry count:").concat(r+1," Error msg:").concat(i.message,"\n")),i instanceof Xt.MonorailUnableToProduceError&&(s=i.response.status,s&&s>=400&&s<500))throw i;return[4,this.delay(this.delayMs*Math.pow(2,r))];case 5:return u.sent(),r++,[3,1];case 6:return[2,a];case 7:throw o?o.message="Retry count of ".concat(this.maxRetries," exceeded. Failed with error: \n").concat(o.message," Aborting request for ").concat(JSON.stringify(e)):o=new Error,new Xt.MonorailRetriesExceededError(o)}})})},t.prototype.delay=function(e){return new Promise(function(n){return setTimeout(n,e)})},t}();Ve.RetryMiddleware=ua,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RetryMiddleware=t.MonorailRetriesExceededError=t.MonorailUnableToProduceError=t.MonorailRequestError=t.Monorail=void 0;var e=Be;Object.defineProperty(t,"Monorail",{enumerable:!0,get:function(){return e.Monorail}});var n=A;Object.defineProperty(t,"MonorailRequestError",{enumerable:!0,get:function(){return n.MonorailRequestError}}),Object.defineProperty(t,"MonorailUnableToProduceError",{enumerable:!0,get:function(){return n.MonorailUnableToProduceError}}),Object.defineProperty(t,"MonorailRetriesExceededError",{enumerable:!0,get:function(){return n.MonorailRetriesExceededError}});var r=Ve;Object.defineProperty(t,"RetryMiddleware",{enumerable:!0,get:function(){return r.RetryMiddleware}})}(me);const da=["Chrome-Lighthouse"];function fa(){const t=navigator.userAgent;return da.some(e=>t.includes(e))}class pa extends Error{constructor(e){super(e),w(this,"name","MonorailProducerError"),w(this,"code","monorail_producer_error")}}function*ha(){yield me.Monorail.createHttpProducer({production:!0}),cr()&&(yield me.Monorail.createLogProducer({debugMode:!0}))}const ma=[...ha()];function ya(t){var e;return!(t instanceof me.MonorailRequestError)&&!((e=t==null?void 0:t.message)!=null&&e.includes("Invalid agent:"))}async function ga(t,e){if(fa())return;_.leaveBreadcrumb("monorail event produced to ".concat(t.schemaId),"manual",t);const n=[];if(await Promise.all(ma.map(async o=>{try{await o.produce(t)}catch(a){n.push(a)}})),n.length===0)return;const r=n.sort(o=>o instanceof me.MonorailRequestError?1:-1)[0];if(e==null||e(r),ya(r)){const o=r instanceof Error?r:new pa(ba(r));_.notify(o)}}function ba(t){try{return JSON.stringify(t)}catch(e){return t.toString()}}const Yt="shopify_wallet_checkout_track/6.1";async function F(t,e){var n,r,o,a,i,s,u,h,f,y,g,d;(r=(n=window==null?void 0:window.ShopifyAnalytics)==null?void 0:n.lib)!=null&&r.trekkie||await new Promise(gt=>{const wt=setInterval(()=>{var _t,Et;(Et=(_t=window==null?void 0:window.ShopifyAnalytics)==null?void 0:_t.lib)!=null&&Et.trekkie&&(clearInterval(wt),gt())},100),qo=setTimeout(()=>{clearInterval(wt),clearTimeout(qo),gt()},7e3)});const b=(i=(a=(o=window.ShopifyAnalytics)==null?void 0:o.lib)==null?void 0:a.trekkie)==null?void 0:i.defaultAttributes,c={uniqToken:(s=b==null?void 0:b.uniqToken)!=null?s:"",visitToken:(u=b==null?void 0:b.visitToken)!=null?u:"",microSessionId:(h=b==null?void 0:b.microSessionId)!=null?h:"",microSessionCount:(f=b==null?void 0:b.microSessionCount)!=null?f:0,shopId:(y=b==null?void 0:b.shopId)!=null?y:0,themeId:b==null?void 0:b.themeId,themeCityHash:(g=b==null?void 0:b.themeCityHash)!=null?g:"",contentLanguage:(d=b==null?void 0:b.contentLanguage)!=null?d:"",referer:b==null?void 0:b.referer},{uniqToken:l,visitToken:p,microSessionId:m,microSessionCount:v,shopId:M,themeId:E,themeCityHash:x,contentLanguage:G,referer:yt}=c,{event:bt,eventSubtype:Zr,instrumentId:Co,ttl:Fo}=t,vt={schemaId:Yt,payload:{event:bt,eventSubtype:Zr,appName:"storefront",pageType:Sn(),instrumentId:Co,ttl:Fo,uniqToken:l,visitToken:p,microSessionId:m,microSessionCount:v,shopId:M,themeId:E,themeCityHash:x,contentLanguage:G,referer:yt,checkoutOne:!0}};if(!bt){_.notify(new Error("Event is required"),{metadata:{request:{monorail:{schemaId:Yt,payload:JSON.stringify(vt)}}}});return}await ga(vt,e)}var P=(t=>(t.BuyItNow="BuyItNow",t.MoreOptions="MoreOptions",t.ApplePay="ApplePay",t.PayPal="PayPalV5",t.Venmo="Venmo",t.GooglePay="GooglePay",t.ShopPay="ShopifyPay",t.MetaPay="FacebookPay",t))(P||{}),N=(t=>(t.CartInitCalled="portable_wallets_cart_init_called",t.ClickSheetCancelled="portable_wallets_instrument_click_sheet_cancelled",t.ClickSheetFailed="portable_wallets_instrument_click_sheet_failure",t.ClickSheetSuccess="portable_wallets_instrument_click_sheet_success",t.InitCalled="portable_wallets_init_called",t.InitFailed="portable_wallets_init_failed",t.InitSuccess="portable_wallets_init_success",t.UpdateFailed="portable_wallets_instrument_update_failed",t.InstrumentLoaded="portable_wallets_instrument_loaded",t))(N||{});function va(t){const e=n=>{n.persisted&&(t(),window.removeEventListener("pageshow",e))};window.addEventListener("pageshow",e)}const le=Element.prototype;function wa(t){const e=Ur(t);return Br(e)}function Br(t){var e;const n=t==null?void 0:t.elements;if(!n)return null;const r=Ce(n,"id");if(!r||isNaN(Number(r)))return null;const o=Number((e=Ce(n,"quantity"))!=null?e:"1"),a="gid://shopify/ProductVariant/".concat(r),i=Ce(n,"selling_plan"),s=i?"gid://shopify/SellingPlan/".concat(i):void 0,u=_a(t);return{quantity:o,merchandiseId:a,sellingPlanId:s,lineItemProperties:u}}function Ur(t){const e=Zt(t,"[data-shopify='payment-button']")||document.querySelector("[data-shopify='payment-button']");return Zt(e,"form")}function _a(t){if(!t)return{};const e=document.querySelectorAll('[name^="properties"][form^="'.concat(t.getAttribute("id"),'"]')),n=t.querySelectorAll('[name^="properties"]'),r=[...e,...n],o={};return r.forEach(a=>{const i=Ea(a),s=Pa(a);i&&typeof s<"u"&&(o[i]=s)}),o}function Ea(t){const e=t.getAttribute("name");if(e===null)return null;const n=e.indexOf("["),r=e.lastIndexOf("]");return n===-1||r===-1?null:e.substring(n+1,r)}function Pa(t){if(!(["radio","checkbox"].includes(t.type)&&!t.checked)&&!(t.value===""||typeof t.value>"u"))return t.value}function Ce(t,e){var n;const r=t.namedItem(e);return r&&"value"in r&&(n=r.value)!=null?n:null}function Zt(t,e){if(le.matches=le.matches||le.webkitMatchesSelector||le.msMatchesSelector||le.mozMatchesSelector,!t||t.matches(e))return t;let n=t;for(;n&&n!==document.body;)if(n=n.parentElement,n&&n.matches(e))return n;return null}const we="GraphQL Client:",Qt=0,Ct=3;function $r(t){return t instanceof Error?t.message:JSON.stringify(t)}function jr(t){if(t!==void 0&&(t<Qt||t>Ct))throw new Error("".concat(we,' The provided "retries" value (').concat(t,") is invalid - it cannot be less than ").concat(Qt," or greater than ").concat(Ct))}const Sa="".concat(we," An error occurred while fetching from the API. Review 'graphQLErrors' for details."),Ta="".concat(we," Response returned unexpected Content-Type:"),Oa={json:"application/json",multipart:"multipart/mixed"},Aa=1e3,Ma=[429,503];function qr({headers:t,url:e,fetchAPI:n=fetch,retries:r=0,logger:o}){jr(r);const a={headers:t,url:e,retries:r},i=ka(o),s=Ra(n,i),u=Da(s,a),h=xa(u);return{config:a,fetch:u,request:h}}async function Ia(t){return new Promise(e=>setTimeout(e,t))}async function Na(t){const{errors:e,data:n,extensions:r}=await t.json(),o=r?{extensions:r}:{};return S(e||!n?{error:S({networkStatusCode:t.status,message:e?Sa:"".concat(we," An unknown error has occurred. The API did not return a data object or any errors in its response.")},e?{graphQLErrors:e}:{})}:{data:n},o)}function ka(t){return e=>{t&&t(e)}}function Ra(t,e){const n=async(r,o,a)=>{const i=o+1,s=a+1;let u;try{if(u=await t(...r),e({type:"HTTP-Response",content:{requestParams:r,response:u}}),!u.ok&&Ma.includes(u.status)&&i<=s)throw new Error;return u}catch(h){if(i<=s)return await Ia(Aa),e({type:"HTTP-Retry",content:{requestParams:r,lastResponse:u,retryAttempt:o,maxRetries:a}}),n(r,i,a);throw new Error("".concat(we).concat(a>0?" Attempted maximum number of ".concat(a," network retries. Last message -"):""," ").concat($r(h)))}};return n}function Da(t,{url:e,headers:n,retries:r}){return async(o,a={})=>{const{variables:i,headers:s,url:u,retries:h}=a,f=JSON.stringify({query:o,variables:i});jr(h);const y=[u!=null?u:e,{method:"POST",headers:S(S({},n),s),body:f}];return t(y,1,h!=null?h:r)}}function xa(t){return async(...e)=>{try{const n=await t(...e),{status:r,statusText:o}=n,a=n.headers.get("content-type")||"";return n.ok?a.includes(Oa.json)?Na(n):{error:{networkStatusCode:r,message:"".concat(Ta," ").concat(a)}}:{error:{networkStatusCode:r,message:o}}}catch(n){return{error:{message:$r(n)}}}}}const La="mutation cartCreate($input:CartInput!$country:CountryCode$language:LanguageCode)@inContext(country:$country language:$language){cartCreate(input:$input){cart{id checkoutUrl cost{totalAmount{amount}}lines(first:10){edges{node{quantity cost{totalAmount{amount currencyCode}}}}}deliveryGroups(first:10){edges{node{id selectedDeliveryOption{estimatedCost{amount currencyCode}}deliveryOptions{code title description estimatedCost{amount currencyCode}handle}}}}}errors:userErrors{...on CartUserError{message field code}}}}",Ba="mutation cartBuyerIdentityUpdate($cartId:ID!$buyerIdentity:CartBuyerIdentityInput!$country:CountryCode$language:LanguageCode)@inContext(country:$country language:$language){cartBuyerIdentityUpdate(cartId:$cartId buyerIdentity:$buyerIdentity){cart{id buyerIdentity{deliveryAddressPreferences{...on MailingAddress{address1 address2 city zip province phone country firstName lastName}}}deliveryGroups(first:10){edges{node{id selectedDeliveryOption{code title description estimatedCost{amount currencyCode}}deliveryOptions{code title description estimatedCost{amount currencyCode}handle}}}}cost{subtotalAmount{amount currencyCode}totalAmount{amount currencyCode}totalTaxAmount{amount currencyCode}totalDutyAmount{amount currencyCode}}discountAllocations{discountedAmount{amount currencyCode}}lines(first:10){edges{node{quantity cost{totalAmount{amount currencyCode}}}}}}errors:userErrors{...on CartUserError{message field code}}}}",Ua="mutation cartSelectedDeliveryOptionsUpdate($cartId:ID!$selectedDeliveryOptions:[CartSelectedDeliveryOptionInput!]!$country:CountryCode=CA$language:LanguageCode=EN)@inContext(country:$country language:$language){cartSelectedDeliveryOptionsUpdate(cartId:$cartId selectedDeliveryOptions:$selectedDeliveryOptions){cart{id buyerIdentity{deliveryAddressPreferences{...on MailingAddress{address1 address2 city zip province phone country firstName lastName}}}deliveryGroups(first:10){edges{node{id selectedDeliveryOption{estimatedCost{amount currencyCode}handle}deliveryOptions{code title description estimatedCost{amount currencyCode}handle}}}}cost{subtotalAmount{amount currencyCode}totalAmount{amount}totalTaxAmount{amount currencyCode}totalDutyAmount{amount currencyCode}}discountAllocations{discountedAmount{amount currencyCode}}lines(first:10){edges{node{quantity cost{totalAmount{amount currencyCode}}}}}}errors:userErrors{...on CartUserError{message field code}}}}";class $a{constructor(e,n,r){w(this,"client"),this.country=n,this.locale=r,this.client=qr({headers:{"Content-Type":"application/json",Accept:"application/json","X-Shopify-Storefront-Access-Token":e,"X-SDK-Variant":"portable-wallets"},url:"/api/2023-07/graphql.json",retries:0,logger:o=>{if(o.type==="HTTP-Response"){const[a,i]=o.content.requestParams;_.leaveBreadcrumb("POST: ".concat(a),"request",{statusCode:o.content.response.status,statusText:o.content.response.statusText,url:a,method:i==null?void 0:i.method,headers:i==null?void 0:i.headers,body:i==null?void 0:i.body})}}})}async createCart(e){var n;const r=this.formatLanguage(this.locale),{data:o,error:a}=await this.client.request(La,{variables:{input:{lines:{merchandiseId:e.merchandiseId,quantity:e.quantity,sellingPlanId:e.sellingPlanId,attributes:Object.entries((n=e.lineItemProperties)!=null?n:{}).map(([i,s])=>({key:i,value:s}))}},country:this.country,language:r}});if(a&&this.onError(a),o)return this.parseCartResponse(o.cartCreate.cart);throw new Error("createCart query returned nothing")}async updateCartBuyerIdentity(e){const{cartId:n,partialStreetAddress:r}=e,o=this.formatLanguage(this.locale),{data:a,error:i}=await this.client.request(Ba,{variables:{cartId:n,country:this.country,language:o,buyerIdentity:{countryCode:r.countryCode,phone:r.phone,deliveryAddressPreferences:[{deliveryAddress:{address1:r.address1,address2:r.address2,city:r.city,zip:r.postalCode,province:r.zoneCode,phone:r.phone,country:r.countryCode,firstName:r.firstName,lastName:r.lastName}}]}}});if(i&&this.onError(i),a)return this.parseCartResponse(a.cartBuyerIdentityUpdate.cart);throw new Error("updateCartBuyerIdentity query returned nothing")}async updateSelectedDeliveryOptions(e,n){const r=this.formatLanguage(this.locale),{data:o,error:a}=await this.client.request(Ua,{variables:{cartId:e,selectedDeliveryOptions:[{deliveryGroupId:n.deliveryGroupId,deliveryOptionHandle:n.deliveryOptionHandle}],country:this.country,language:r}});if(a&&this.onError(a),o)return this.parseCartResponse(o.cartSelectedDeliveryOptionsUpdate.cart);throw new Error("cartSelectedDeliveryOptionUpdate mutation returned nothing")}onError(e){if(!e)return;_.leaveBreadcrumb("GraphQL errors","error",e);const n=e!=null&&e.networkStatusCode?"HTTP status ".concat(e.networkStatusCode):e.message;throw new Error("createCart query failed: ".concat(n))}formatLanguage(e){return e.includes("-")?e.split("-")[0].toUpperCase():e.toUpperCase()}parseCartResponse(e){const n=e.lines.edges.map(a=>{const i=a.node;return{quantity:i.quantity,totalAmount:{amount:i.cost.totalAmount.amount,currencyCode:i.cost.totalAmount.currencyCode}}}),r=[],o=[];return e.deliveryGroups.edges.forEach(a=>{const i=a.node.selectedDeliveryOption;o.push(this.buildDeliveryOption(i,a.node.id)),a.node.deliveryOptions.forEach(s=>{r.push(this.buildDeliveryOption(s,a.node.id))})}),{id:e.id,totalAmount:e.cost.totalAmount,subtotalAmount:e.cost.subtotalAmount,totalTaxAmount:e.cost.totalTaxAmount,totalDutyAmount:e.cost.totalDutyAmount,discountAllocations:e.discountAllocations,lineItems:n,deliveryOptions:r,selectedDeliveryOptions:o,checkoutUrl:e.checkoutUrl}}buildDeliveryOption(e,n){return{title:e.title,estimatedCost:{amount:e.estimatedCost.amount,currencyCode:e.estimatedCost.currencyCode},handle:e.handle,deliveryGroupId:n,description:e.description}}}async function dt({element:t,buyerCountry:e,accessToken:n,locale:r,instrumentName:o,attribute:a,onError:i}){t.setAttribute(a,"true");try{const s=wa(t);if(!s)throw new Error("[".concat(o,"] unable to find product form"));if(!n)throw new Error("[".concat(o,"] Created ").concat(o," with no access token"));if(!e||!r)throw new Error("[DynamicCheckout] must pass country to ".concat(o,"}"));const u=new $a(n,e,r),h=await u.createCart(s);if(va(()=>{t&&t.removeAttribute(a)}),!h.checkoutUrl)throw new Error("[".concat(o,"] Created cart with no checkout URL"));return{cart:h,cartClient:u}}catch(s){return _.notify(s),t.removeAttribute(a),i==null||i(),{}}}class Fr extends ge{constructor(){super(...arguments),w(this,"anchor"),w(this,"i18n",null)}static get observedAttributes(){return["disabled"]}async connectedCallback(){this.i18n=await Le(),this.render()}attributeChangedCallback(e,n,r){n!==r&&e==="disabled"&&this.anchor&&(r?this.anchor.setAttribute("disabled","true"):this.anchor.removeAttribute("disabled"))}async handleClick(e){if(e.preventDefault(),this.disabled||!this.anchor||this.anchor.getAttribute("disabled"))return;const{cart:n}=await dt({element:this.anchor,attribute:"disabled",buyerCountry:this.buyerCountry,accessToken:this.accessToken,locale:this.i18n.locale,instrumentName:P.MoreOptions,onError:()=>ct(this.i18n)});n&&window.location.assign(n.checkoutUrl)}render(){this.anchor=document.createElement("a"),this.anchor.href="",this.anchor.textContent=this.i18n.translate("more_payment_options"),this.anchor.className=lt.MORE_PAYMENT_OPTION_BUTTON,this.disabled&&this.anchor.setAttribute("disabled","true"),this.anchor.onclick=e=>this.handleClick(e),this.appendChild(this.anchor)}}H("more-payment-options-link",Fr);class Hr extends ge{get shopId(){return this.getAttribute("shop-id")}get cartId(){return this.getAttribute("cart-id")}get walletConfigs(){return this.getAttribute("wallet-configs")}}class ja{constructor(e,n){w(this,"addToCartMutationObserver"),w(this,"addToCartForm"),w(this,"addToCartButtons"),this.element=e,this.setComponentDisabled=n,this.addToCartMutationObserver=null,this.addToCartForm=null,this.addToCartButtons=[]}setupMutationObservers(){if(this.findAndSetAddToCartButtons(),!this.addToCartForm)return;this.syncComponentStateWithForm();const e=new MutationObserver(()=>this.reobserveOnFormChanges());this.addToCartMutationObserver=new MutationObserver(()=>this.syncComponentStateWithForm()),e.observe(this.addToCartForm,{childList:!0}),this.observeAddToCartButtons()}syncComponentStateWithForm(){if(!this.addToCartForm){this.setComponentDisabled(!0);return}const e=Br(this.addToCartForm),n=!!(this.addToCartButtons.length>0&&this.addToCartButtons.every(r=>r.disabled));this.setComponentDisabled(n||e===null)}observeAddToCartButtons(){this.addToCartButtons.forEach(e=>{this.addToCartMutationObserver.observe(e,{attributes:!0})})}reobserveOnFormChanges(){var e;(e=this.addToCartMutationObserver)==null||e.disconnect(),this.findAndSetAddToCartButtons(),this.observeAddToCartButtons(),this.syncComponentStateWithForm()}findAndSetAddToCartButtons(){this.addToCartForm=Ur(this.element),this.addToCartForm&&(this.addToCartButtons=[...this.addToCartForm.querySelectorAll("[type=submit]")])}}var qa=0;function X(t){return"__private_"+qa+++"_"+t}function T(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}function et(t){return Object.entries(t).map(([e,n])=>({key:e,value:{stringValue:String(n)}}))}const er=1;var ue=X("exporter"),k=X("attributes"),R=X("metrics");class Fa{constructor({exporter:e,attributes:n}){Object.defineProperty(this,ue,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,R,{writable:!0,value:[]}),T(this,ue)[ue]=e,T(this,k)[k]=n!=null?n:{}}addAttributes(e){T(this,k)[k]=S(S({},T(this,k)[k]),e)}histogram({name:e,value:n,unit:r,attributes:o}){const a=Date.now()*1e6;T(this,R)[R].push({name:e,type:"histogram",value:n,unit:r,timeUnixNano:a,attributes:o})}counter({name:e,value:n,unit:r,attributes:o}){const a=Date.now()*1e6;T(this,R)[R].push({name:e,type:"counter",value:n,unit:r,timeUnixNano:a,attributes:o})}gauge({name:e,value:n,unit:r,attributes:o}){const a=Date.now()*1e6;T(this,R)[R].push({name:e,type:"gauge",value:n,unit:r,timeUnixNano:a,attributes:o})}async exportMetrics(){const e={};T(this,R)[R].forEach(r=>{const o=S(S({},T(this,k)[k]),r.attributes),{name:a,value:i,unit:s,timeUnixNano:u}=r;switch(r.type){case"histogram":e[a]||(e[a]={name:a,unit:s||"1",histogram:{aggregationTemporality:er,dataPoints:[]}}),e[a].histogram.dataPoints.push({startTimeUnixNano:u,timeUnixNano:u,count:1,sum:i,attributes:et(o)});break;case"counter":e[a]||(e[a]={name:a,unit:s||"1",sum:{aggregationTemporality:er,isMonotonic:!0,dataPoints:[]}}),e[a].sum.dataPoints.push({startTimeUnixNano:u,timeUnixNano:u,asDouble:i,attributes:et(o)});break;case"gauge":e[a]||(e[a]={name:a,unit:s||"1",gauge:{dataPoints:[]}}),e[a].gauge.dataPoints.push({startTimeUnixNano:u,timeUnixNano:u,asDouble:i,attributes:et(o)});break}});const n=Object.values(e);n.length!==0&&await T(this,ue)[ue].exportMetrics(n)}}var de=X("url"),fe=X("serviceName"),pe=X("logger");class Ha{constructor(e,n,r){Object.defineProperty(this,de,{writable:!0,value:void 0}),Object.defineProperty(this,fe,{writable:!0,value:void 0}),Object.defineProperty(this,pe,{writable:!0,value:void 0}),T(this,de)[de]=e,T(this,fe)[fe]=n,T(this,pe)[pe]=r==null?void 0:r.logger}async exportMetrics(e){var n;const r={resourceMetrics:[{resource:{attributes:[{key:"service.name",value:{stringValue:T(this,fe)[fe]}}]},scopeMetrics:[{scope:{name:"open-telemetry-mini-client",version:"0.3.1",attributes:[]},metrics:e}]}]},o=await fetch(T(this,de)[de],{method:"POST",keepalive:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if((n=T(this,pe)[pe])===null||n===void 0||n.log({status:o.status}),!o.ok){if(o.status===400){const a=await o.text();throw new Ae("Invalid OpenTelemetry Metrics: ".concat(a))}if(o.status===429||o.status===503){const a=await o.json(),i=o.headers.get("Retry-After"),s=i?{seconds:Number(i)}:void 0;throw new Ae("Server did not accept metrics",{errorData:a,retryAfter:s,metrics:e})}throw new Ae("Server responded with ".concat(o.status))}}}class Ae extends Error{constructor(e,n){super(e),this.metadata=void 0,this.name="OpenTelemetryClientError",this.metadata=n}}const Ga="https://otlp-http-production.shopifysvc.com/v1/metrics",Wa="portable_wallets";class Va{constructor(e){this.exporter=e}async exportMetrics(e){var n;try{await this.exporter.exportMetrics(e)}catch(r){if(r instanceof Ae){const o=(n=r.metadata)==null?void 0:n.retryAfter;if(o){await new Promise(a=>{setTimeout(()=>{this.exportMetrics(e),a()},o.seconds*1e3)});return}}throw r}}}const Ka=new Ha(Ga,Wa),za=new Va(Ka),tr=new Fa({exporter:za});var ft=(t=>(t.InitCompleted="portable_wallets_init_completed",t.InstrumentLoaded="portable_wallets_instrument_loaded",t.SheetClicked="portable_wallets_sheet_clicked",t))(ft||{});async function Gr({name:t,value:e,options:n}){tr.counter({name:t,value:e,attributes:S({},n)}),tr.exportMetrics()}function Ja(){F({event:N.InitCalled})}function Xa(t){F({event:t==="success"?N.InitSuccess:N.InitFailed})}function Ya({instrument:t,measurement:e}){Gr({name:ft.InstrumentLoaded,value:1,options:{instrument:t}}),F({event:N.InstrumentLoaded,instrumentId:t,ttl:e})}function Za({instrument:t,result:e}){Gr({name:ft.SheetClicked,value:1,options:{instrument:t,result:e}}),F({event:e==="success"?N.ClickSheetSuccess:N.ClickSheetFailed,instrumentId:t})}function Qa(t,e){F({event:"".concat(N.UpdateFailed,"-").concat(e),instrumentId:t})}const I={initStarted:Ja,initCompleted:Xa,instrumentLoaded:Ya,sheetClicked:Za,updateFailed:Qa};class Ca extends ge{constructor(){super(...arguments),w(this,"button"),w(this,"i18n",null),w(this,"buyNowText",""),w(this,"onRendered",null)}static get observedAttributes(){return["disabled"]}async connectedCallback(){this.i18n=await Le(),this.buyNowText=this.i18n.translate("instruments_copy.checkout.buy_now"),this.render()}attributeChangedCallback(e,n,r){n!==r&&e==="disabled"&&this.button&&(r?this.button.setAttribute("aria-disabled","true"):this.button.removeAttribute("aria-disabled"))}async handleClick(){if(!(this.disabled||!this.button||this.button.getAttribute("aria-disabled")))try{const{cart:e}=await dt({element:this.button,attribute:"aria-disabled",accessToken:this.accessToken,buyerCountry:this.buyerCountry,locale:this.i18n.locale,instrumentName:P.BuyItNow,onError:()=>ct(this.i18n)});if(!e)throw new Error("[".concat(P.BuyItNow,"] received invalid cart"));I.sheetClicked({instrument:P.BuyItNow,result:"success"}),window.location.assign(e.checkoutUrl)}catch(e){_.notify(e),I.sheetClicked({instrument:P.BuyItNow,result:"failed"})}}render(){var e;this.button||(this.button=document.createElement("button"),this.button.type="button"),this.button.textContent=this.buyNowText,this.button.className=lt.UNBRANDED_BUTTON,this.disabled&&this.button.setAttribute("aria-disabled","true"),this.button.onclick=()=>this.handleClick(),this.appendChild(this.button),(e=this.onRendered)==null||e.call(this)}}class pt{static walletName(){throw new Error("Must define walletName for WalletInstrument subclass")}constructor(e){}createWebComponent({accessToken:e,country:n,disabled:r="false",walletParams:o}){const a=this.getWebComponentName();H(a,this.getWebComponentClass(),{shouldAddToWindow:!0});const i=document.createElement(a),s=S({"access-token":e,"buyer-country":n,disabled:r},o);for(const[u,h]of Object.entries(s))u&&i.setAttribute(u,h||"");return i}getWalletParams(){return{}}loadWalletSDK(){return Promise.resolve()}shouldLoadWallet(){return!0}isPartnerSDKEligible(){return!0}}class eo extends pt{static walletName(){return"buy_it_now"}getWebComponentName(){return"shopify-buy-it-now-button"}getInstrumentName(){return P.BuyItNow}getWebComponentClass(){return Ca}}class to extends ge{constructor(){super(...arguments),w(this,"sdkButtonsComponent"),w(this,"onRendered",null)}async connectedCallback(){var e,n;this.sdkButtonsComponent=(n=(e=window.paypal).Buttons)==null?void 0:n.call(e,{fundingSource:"paypal",style:{color:"gold",label:"paypal",height:54}}),this.render()}disconnectedCallback(){this.sdkButtonsComponent&&this.sdkButtonsComponent.close()}render(){var e;const n=document.createElement("div");(e=this.sdkButtonsComponent)==null||e.render(n),this.appendChild(n)}}const ro="https://www.paypal.com/sdk/js",no="AftTXN0blRv0ltUpXOXhTWgUgyoMXw83iV54WUwm2VFXevA-_z4oWajYoxeWwZ-Y_mK1kxIBBXG0HqQ1";class ao extends pt{constructor(e){super(e),w(this,"merchantId");const n=e==null?void 0:e.wallet_params;this.merchantId=n.merchantId}static walletName(){return"paypal"}getWebComponentName(){return"shopify-paypal-button"}getInstrumentName(){return P.PayPal}getWebComponentClass(){return to}loadWalletSDK(){const e=document.createElement("script"),n=new URL(ro);return n.searchParams.set("client-id",no),n.searchParams.set("merchant-id",this.merchantId),e.setAttribute("src",n.toString()),new Promise((r,o)=>{e.onload=()=>r(),e.onerror=a=>{document.body.removeChild(e),o(a)},document.body.appendChild(e)})}shouldLoadWallet(){return!0}isPartnerSDKEligible(){var e,n;return!!((n=(e=window==null?void 0:window.paypal)==null?void 0:e.Buttons)!=null&&n.call(e).isEligible())}}const oo=".apple-pay-button{background-size:100% 60%;background-repeat:no-repeat;background-position:50% 50%}@supports (-webkit-appearance: -apple-pay-button){.apple-pay-button{background-size:auto;background-repeat:repeat;background-position:0;-webkit-appearance:-apple-pay-button!important;-moz-appearance:-apple-pay-button!important;appearance:-apple-pay-button!important;-apple-pay-button-type:plain;height:44px}}\n",ot={UK:j.Gb,JA:j.Jp},Wr=["AS","GU","MP","PR","VI"];Wr.forEach(t=>{ot[t]=j.Us});function io(t){var e,n;const r=t.countryCode,o={firstName:t.givenName||void 0,lastName:t.familyName||void 0,address1:(e=t==null?void 0:t.addressLines)==null?void 0:e[0],address2:((n=t==null?void 0:t.addressLines)==null?void 0:n[1])||void 0,city:t.locality||void 0,postalCode:t.postalCode||void 0,zoneCode:t.administrativeArea||t.subLocality||void 0,countryCode:co(t.countryCode),phone:t.phoneNumber||void 0};return o.countryCode===j.Hk&&(o.postalCode=void 0,o.zoneCode=t.postalCode),r&&Wr.includes(r)&&(o.zoneCode=r),o.lastName||(o.lastName=o.firstName),o}function so(t){return Object.values(j).includes(t)}function co(t){if(!t)return j.Zz;const e=t.toUpperCase();return so(e)?e:Object.keys(ot).includes(e)?ot[e]:j.Zz}function Vr(t,e){return z(t,[e])[0]}function Kr({subtotal:t,selectedDeliveryOptions:e,duties:n,taxes:r,discountAllocations:o,i18n:a}){const i=z(a.translate("order_summary.subtotal"),[t]),s=z(a.translate("order_summary.shipping"),e.map(y=>({amount:y.estimatedCost.amount}))),u=z(a.translate("order_summary.duties"),[n]),h=z(a.translate("order_summary.taxes"),[r]),f=o.flatMap(y=>z(a.translate("order_summary.discount"),[y.discountedAmount],!0));return[...i,...s,...u,...h,...f]}function z(t,e,n=!1){return e.filter(r=>(r==null?void 0:r.amount)&&(r==null?void 0:r.amount)!==0).map(r=>({label:t,amount:n?"-".concat(rt(r.amount)):rt(r.amount)}))}function lo(t){return t.map(e=>{var n;return{label:e.title,amount:rt(e.estimatedCost.amount),identifier:e.handle,detail:(n=e.description)!=null?n:""}})}async function uo({cartId:t,partialStreetAddress:e,cartClient:n,instrumentName:r,onError:o}){try{if(!t)throw new Error("[".concat(r,"] provided no cart ID when updating buyer identity"));if(!e)throw new Error("[".concat(r,"] provided no address when updating buyer identity"));if(!n)throw new Error("[".concat(r,"] provided invalid cart client when updating buyer identity"));return await n.updateCartBuyerIdentity({cartId:t,partialStreetAddress:e})}catch(a){return I.updateFailed(r,"updateBuyerIdentity"),_.notify(a),o(),null}}const fo=async({event:t,session:e,cartClient:n,cartId:r,i18n:o,merchantName:a,terminateSession:i})=>{let s=null;try{const u=io(t.shippingContact);if(s=await uo({cartId:r,cartClient:n,instrumentName:P.ApplePay,partialStreetAddress:u,onError:i}),!s)throw new Error("[".concat(P.ApplePay,"] unable to update buyer identity"));e.completeShippingContactSelection({errors:[],newTotal:Vr(a,s.totalAmount),newLineItems:Kr({subtotal:s.subtotalAmount,selectedDeliveryOptions:s.selectedDeliveryOptions,duties:s.totalDutyAmount,taxes:s.totalTaxAmount,discountAllocations:s.discountAllocations,i18n:o}),newShippingMethods:lo(s.deliveryOptions)})}catch(u){_.notify(u),i()}return s};async function po({cartId:t,cartClient:e,instrumentName:n,onError:r,selectedDeliveryOptions:o}){try{if(!t)throw new Error("[".concat(n,"] provided no cart ID when updating shipping method"));if(!e)throw new Error("[".concat(n,"] provided invalid cart client when updating shipping method"));return await e.updateSelectedDeliveryOptions(t,o)}catch(a){return I.updateFailed(n,"updateSelectedDeliveryOptions"),_.notify(a),r(),null}}async function ho({cartId:t,cartClient:e,deliveryGroupId:n,event:r,i18n:o,merchantName:a,session:i,terminateSession:s}){let u=null;try{if(u=await po({cartId:t,cartClient:e,instrumentName:P.ApplePay,onError:s,selectedDeliveryOptions:{deliveryGroupId:n,deliveryOptionHandle:r.shippingMethod.identifier}}),!u)throw new Error("[".concat(P.ApplePay,"] unable to update shipping method"));i.completeShippingMethodSelection({newTotal:Vr(a,u.totalAmount),newLineItems:Kr({subtotal:u.subtotalAmount,selectedDeliveryOptions:u.selectedDeliveryOptions,duties:u.totalDutyAmount,taxes:u.totalTaxAmount,discountAllocations:u.discountAllocations,i18n:o})})}catch(h){_.notify(h),s()}return u}const mo="query ApplePaySessionQuery($applePaySessionCreate:ApplePaySessionCreateInput$pendingTask:PendingTaskInput){applePaySession(input:{applePaySessionCreate:$applePaySessionCreate pendingTask:$pendingTask}){__typename ...on ApplePaySessionCreationSuccess{body id}...on ApplePaySessionCreationFailed{code message}...on PendingTask{taskId pollDelay}}}",yo=5,go="https://apple-pay-gateway-cert.apple.com/paymentservices/startSession";async function bo(t){const e=qr({headers:{"Content-Type":"application/json",Accept:"application/json"},url:"/checkouts/unstable/graphql",retries:0});let n=null;const r="cart-".concat(t.id),o=go;for(let a=0;a<yo;a++){const i=await vo({graphql:e,taskId:n,resourceId:r,validationUrl:o});if(i.__typename==="PendingTask"){n=i.taskId;const s=i.pollDelay;await new Promise(u=>setTimeout(u,s))}else{if(i.__typename==="ApplePaySessionCreationFailed")throw new Error("session create failed: ".concat(JSON.stringify(i)));if(i.__typename==="ApplePaySessionCreationSuccess")return JSON.parse(i.body);throw new Error("unexpected result: ".concat(JSON.stringify(i)))}}throw new Error("too many polls")}async function vo({graphql:t,taskId:e,resourceId:n,validationUrl:r}){const o=e?{pendingTask:{taskId:e}}:{applePaySessionCreate:{resourceId:n,validationUrl:r}},{data:a,error:i}=await t.request(mo,{variables:o});if(i)throw new Error("Failed to create session: ".concat(JSON.stringify(i)));return a.applePaySession}const wo=6;class _o extends ge{constructor(){super(...arguments),w(this,"i18n",null),w(this,"fragment",null),w(this,"button",null),w(this,"cart",null),w(this,"cartClient",null),w(this,"onRendered",null)}static get observedAttributes(){return["disabled"]}get merchantName(){var e;return(e=this.getAttribute("merchant-name"))!=null?e:""}async connectedCallback(){this.i18n=await Le(),this.render()}attributeChangedCallback(e,n,r){n!==r&&e==="disabled"&&this.button&&this.button.setAttribute("aria-disabled",r)}handleTerminateSession(e){var n;e==null||e.abort(),On(this.i18n,"apple_pay"),(n=this.button)==null||n.removeAttribute("aria-disabled")}async handleValidateMerchant(e){try{const{cart:n,cartClient:r}=await dt({element:this.button,attribute:"aria-disabled",accessToken:this.accessToken,buyerCountry:this.buyerCountry,locale:this.i18n.locale,instrumentName:P.ApplePay,onError:()=>this.handleTerminateSession()});if(!n||!n.id)throw new Error("[".concat(P.ApplePay,"] received invalid cart"));if(!r)throw new Error("[".concat(P.ApplePay,"] received invalid cart API client"));this.cart=n,this.cartClient=r;const o=await bo(n);e.completeMerchantValidation(o)}catch(n){_.notify(n),this.handleTerminateSession(e)}}async handleClick(e){var n,r;if(e.preventDefault(),this.disabled||!this.button||this.button.hasAttribute("aria-disabled"))return;let o;try{const a=JSON.parse((r=(n=document.querySelector("script#apple-pay-shop-capabilities"))==null?void 0:n.textContent)!=null?r:"null");if(!a)throw new Error("missing payment request");o=new ApplePaySession(wo,a),o.onvalidatemerchant=()=>this.handleValidateMerchant(o),o.onshippingcontactselected=async i=>{this.cart=await fo({event:i,session:o,cartClient:this.cartClient,cartId:this.cart.id,i18n:this.i18n,merchantName:this.merchantName,terminateSession:()=>this.handleTerminateSession(o)})},o.onshippingmethodselected=async i=>{var s;this.cart=await ho({cartId:this.cart.id,cartClient:this.cartClient,deliveryGroupId:(s=this.cart.deliveryOptions[0])==null?void 0:s.deliveryGroupId,event:i,i18n:this.i18n,merchantName:this.merchantName,session:o,terminateSession:()=>this.handleTerminateSession(o)})},o.begin(),I.sheetClicked({instrument:P.ApplePay,result:"success"})}catch(a){_.notify(a),I.sheetClicked({instrument:P.ApplePay,result:"failed"}),this.handleTerminateSession(o)}}render(){var e;if(this.button||(this.button=document.createElement("button"),this.button.setAttribute("aria-label",this.i18n.translate("brand.apple_pay")),this.button.onclick=n=>this.handleClick(n),this.button.className="apple-pay-button ".concat(lt.BRANDED_BUTTON)),this.disabled&&this.button.setAttribute("aria-disabled","true"),!this.fragment){this.fragment=document.createDocumentFragment();const n=document.createElement("style");n.innerHTML=oo,this.fragment.append(n,this.button),this.appendChild(this.fragment),(e=this.onRendered)==null||e.call(this)}}}class Eo extends pt{constructor(e,n){var r,o;super(e),w(this,"buyerCountry"),w(this,"companyFieldRequired"),w(this,"merchantName"),this.buyerCountry=n.country;const a=e==null?void 0:e.wallet_params;this.companyFieldRequired=(r=a.companyRequired)!=null?r:!1,this.merchantName=(o=a.merchantName)!=null?o:""}static walletName(){return"apple_pay"}getWebComponentName(){return"shopify-apple-pay-button"}getWebComponentClass(){return _o}getInstrumentName(){return P.ApplePay}getWalletParams(){var e;return{"merchant-name":(e=this.merchantName)!=null?e:""}}applePayInIframe(){return typeof window>"u"||window.self!==window.top}getIsUserEligibleForApplePayInChina(){const e=navigator.userAgent.match(/(\((iPhone|iPad); CPU (iPhone )?OS ((\d+(_?)){1,3}))/g);if(!e)return!1;const n=e[0].match(/(\d+(_?)){1,3}/);if(!n)return!1;const[r,o]=n[0].split("_").map(a=>Number(a));return r>11||r===11&&o>=2}isPartnerSDKEligible(){return window.ApplePaySession&&Object.prototype.hasOwnProperty.call(window.ApplePaySession,"canMakePayments")&&window.ApplePaySession.canMakePayments()}shouldLoadWallet(){return this.applePayInIframe()||this.companyFieldRequired||this.buyerCountry==="CN"&&!this.getIsUserEligibleForApplePayInChina()?!1:!!window.ApplePaySession}}const Po=[eo,ao,Eo],So=new Map(Po.map(t=>[t.walletName(),(e,n)=>new t(e,n)]));function zr(t,e){const n=So.get(t.name);if(!n)throw new Error("Can't build wallet with name ".concat(t.name));return n(t,e)}function To(t,e){return t.map(n=>zr(n,e))}var Ke=(t=>(t.ButtonDisplay="buttonDisplay",t.LoadInstrument="loadInstrument",t))(Ke||{});function Jr(){var t,e;return!!((t=window.performance)!=null&&t.mark)&&!!((e=window.performance)!=null&&e.measure)}function ht(t,e){return Oo(t,e),()=>Ao(t,e)}function Oo(t,e){Jr()&&window.performance.mark("".concat(t,"-").concat(e,"-start"))}function Ao(t,e){var n,r;if(Jr())try{const o="".concat(t,"-").concat(e,"-start"),a="".concat(t,"-").concat(e,"-end"),i="".concat(t,"-").concat(e,"-duration");window.performance.mark(a);const s=(r=window.performance.measure(i,o,a))!=null?r:(n=window.performance.getEntriesByName(i,"measure"))==null?void 0:n[0],u=s==null?void 0:s.duration;if(u==null){_.notify(new Error("Could not measure performance of ".concat(t," ").concat(e)),{severity:"warning"});return}return u}catch(o){_.notify(o);return}}const Xr="dynamic-checkout .wallet-button-fade-in,cart-wallet-buttons .wallet-button-fade-in{animation:animation-fade-in .3s cubic-bezier(.1,.79,1,1)}@keyframes animation-fade-in{0%{opacity:0}to{opacity:1}}button[aria-disabled=true]{opacity:.5;cursor:not-allowed}\n",Mo=".shopify-payment-button__button--hidden{visibility:hidden}.shopify-payment-button__button{border-radius:4px;border:none;box-shadow:0 0 0 0 transparent;color:#fff;cursor:pointer;display:block;font-size:1em;font-weight:500;line-height:1;text-align:center;width:100%;transition:background .2s ease-in-out}.shopify-payment-button__button[disabled]{opacity:.6;cursor:default}.shopify-payment-button__button--unbranded{background-color:#1990c6;padding:1em 2em}.shopify-payment-button__button--unbranded:hover:not([disabled]){background-color:#136f99}.shopify-payment-button__more-options{background:transparent;border:0 none;cursor:pointer;display:block;font-size:1em;margin-top:1em;text-align:center;width:100%}.shopify-payment-button__more-options:hover:not([disabled]){text-decoration:underline}.shopify-payment-button__more-options[disabled]{opacity:.6;cursor:not-allowed}.shopify-payment-button__button--branded{display:flex;flex-direction:column;min-height:44px;position:relative;z-index:1}.shopify-payment-button__button--branded .shopify-cleanslate{flex:1!important;display:flex!important;flex-direction:column!important}.shopify-payment-button__button.button.loading{position:relative;color:transparent}.shopify-payment-button__button.button.loading>.loading-overlay__spinner{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;height:100%;display:flex;align-items:center}.shopify-payment-button__button.button.loading>.loading-overlay__spinner .spinner{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}.button.loading>.loading-overlay__spinner .path{stroke:#fff}.shopify-payment-button__button .loading-overlay__spinner{width:1.8rem;display:inline-block}.shopify-payment-button__button .spinner{animation:shopify-rotator 1.4s linear infinite}@keyframes shopify-rotator{0%{transform:rotate(0)}to{transform:rotate(270deg)}}.shopify-payment-button__button .path{stroke-dasharray:280;stroke-dashoffset:0;transform-origin:center;stroke:#121212;animation:shopify-dash 1.4s ease-in-out infinite}@media screen and (forced-colors: active){.shopify-payment-button__button .path{stroke:CanvasText}}@keyframes shopify-dash{0%{stroke-dashoffset:280}50%{stroke-dashoffset:75;transform:rotate(135deg)}to{stroke-dashoffset:280;transform:rotate(450deg)}}@keyframes walletsLoadingSkeleton{50%{opacity:1}75%{opacity:.5}to{opacity:1}}.shopify-payment-button__skeleton{animation:walletsLoadingSkeleton 4s ease infinite;animation-delay:-.168s;background-color:#dedede;box-sizing:border-box}\n";function Yr(t,e,n){if(he!=null&&he.length){const r=he.join(",");t.querySelectorAll(r).forEach(o=>{n===null?o.removeAttribute(e):o.setAttribute(e,n)})}}function Io(t,e){try{return JSON.parse(t)}catch(n){throw new Error("[".concat(e,"] Error while parsing walletConfigs JSON: ").concat(n))}}function No(t){return t.filter(e=>e.shouldLoadWallet())}const De=class _e extends Hr{constructor(){super(),w(this,"instanceNumber",++_e.instanceCount),w(this,"formObserver"),this.formObserver=new ja(this,e=>this.disabled=e),this.instanceNumber===1&&(_.start(Y(S({},lr),{metadata:{shop:{shopId:this.shopId}}})),Lo())}static get observedAttributes(){return["access-token","disabled"]}async connectedCallback(){try{this.instanceNumber===1&&I.initStarted();const e=ht(Ke.ButtonDisplay,"dc:".concat(this.instanceNumber)),n=this.buildWalletConfigs();if(!(n instanceof Array))throw new Error("[DynamicCheckout] invalid walletConfigs found");const r=await Ro(n,{country:this.buyerCountry}),o=r.createWebComponent({accessToken:this.accessToken,country:this.buyerCountry,disabled:String(this.disabled),walletParams:r.getWalletParams()});if(!o)throw new Error("[DynamicCheckout] No web component found");const a=r.getInstrumentName();o.onRendered=()=>{I.instrumentLoaded({instrument:a,measurement:e()})},this.innerHTML="",this.render(o,a),I.initCompleted("success"),this.instanceNumber===1&&$o()}catch(e){this.innerHTML="",I.initCompleted("failed"),_.notify(e)}}attributeChangedCallback(e,n,r){n!==r&&Yr(this,e,r)}buildWalletConfigs(){const e=this.walletConfigs;if(!e)throw new Error("[DynamicCheckout] Created dynamic checkout button with no wallet configs");try{return JSON.parse(e)}catch(n){throw new Error("[DynamicCheckout] Error while parsing walletConfigs JSON: ".concat(n))}}render(e,n){var r,o;this.formObserver.setupMutationObservers();const a=document.createElement("style");a.innerHTML=Xr;const i=document.createElement("div");if(i.className="wallet-button-fade-in",i.appendChild(e),n!==P.BuyItNow){const u=document.createElement("more-payment-options-link");u.setAttribute("buyer-country",(r=this.buyerCountry)!=null?r:""),u.setAttribute("access-token",(o=this.accessToken)!=null?o:""),u.setAttribute("disabled",String(this.disabled)),i.appendChild(u)}const s=new DocumentFragment;s.appendChild(a),s.appendChild(i),this.appendChild(s)}};w(De,"instanceCount",0);let it=De;function ko(t){var e;if(!cr())return null;const n=(e=Pn())==null?void 0:e.toLowerCase();return n?t.find(r=>r.getInstrumentName().toLowerCase().includes(n)):null}async function Ro(t,e){var n;t.push({name:"buy_it_now",wallet_params:{}});const r=xo(Do(t,e)),o=(n=ko(r))!=null?n:r[0];if(await o.loadWalletSDK(),!o.isPartnerSDKEligible())throw new Error("Selected wallet SDK ineligible");return o}function Do(t,e){return t.map(n=>zr(n,e))}function xo(t){return t.filter(e=>e.shouldLoadWallet())}function Lo(){var t,e;(e=(t=window.Shopify)==null?void 0:t.PaymentButton)!=null&&e.isStorefrontPortableWallets&&(Uo()||Bo())}function Bo(){const t=document.createElement("style");t.id="shopify-dynamic-checkout",t.innerHTML=Mo,document.head.appendChild(t)}function Uo(){return!!document.querySelector("style#shopify-dynamic-checkout")}function $o(){document.dispatchEvent(new Event("shopify:payment_button:loaded",{bubbles:!0,cancelable:!0}))}H("dynamic-checkout",it),H("more-payment-options-link",Fr);const xe=class Ee extends Hr{constructor(){super(),w(this,"instanceNumber",++Ee.instanceCount),_.start(Y(S({},lr),{metadata:{shop:{shopId:this.shopId,cartId:this.cartId}}}))}static get observedAttributes(){return["access-token"]}async connectedCallback(){try{F({event:N.CartInitCalled});const e=ht(Ke.ButtonDisplay,"cart:".concat(this.instanceNumber));if(!this.walletConfigs)throw new Error("[CartWalletButtons] walletConfigs does not exist");const n=Io(this.walletConfigs,"CartWalletButtons");if(!(n instanceof Array))throw new Error("[CartWalletButtons] invalid walletConfigs found");const r=(await jo(n,{country:this.buyerCountry},this.instanceNumber)).map(o=>o.createWebComponent({accessToken:this.accessToken,country:this.buyerCountry}));if(r.length===0){this.innerHTML="";return}this.innerHTML="",this.render(r),F({event:N.InstrumentLoaded,instrumentId:"CartWalletButtons",ttl:e()})}catch(e){this.innerHTML="",_.notify(e)}}attributeChangedCallback(e,n,r){n!==r&&Yr(this,e,r)}render(e){const n=document.createElement("style");n.innerHTML=Xr;const r=document.createElement("div");r.className="wallet-button-fade-in",e.forEach(a=>{r.appendChild(a)});const o=new DocumentFragment;o.appendChild(n),o.appendChild(r),this.appendChild(o)}};w(xe,"instanceCount",0);let st=xe;async function jo(t,e,n){const r=No(To(t,e));return await Promise.all(r.map(async o=>{try{const a=o.getInstrumentName(),i=ht(Ke.LoadInstrument,"".concat(a,":").concat(n));await o.loadWalletSDK(),I.instrumentLoaded({instrument:a,measurement:i()})}catch(a){_.notify(a)}})),r.filter(o=>o.isPartnerSDKEligible())}H("cart-wallet-buttons",st);
